window.CodeMirror=(function(){var bB=/gecko\/\d/i.test(navigator.userAgent);var ct=/MSIE \d/.test(navigator.userAgent);var by=ct&&(document.documentMode==null||document.documentMode<8);var bx=ct&&(document.documentMode==null||document.documentMode<9);var b1=/WebKit\//.test(navigator.userAgent);var cw=b1&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var b9=/Chrome\//.test(navigator.userAgent);var dP=/Opera\//.test(navigator.userAgent);var ad=/Apple Computer/.test(navigator.vendor);var aC=/KHTML\//.test(navigator.userAgent);var bM=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var b6=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var dM=/PhantomJS/.test(navigator.userAgent);var dn=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cN=dn||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bk=dn||/Mac/.test(navigator.platform);var al=/win/i.test(navigator.platform);var cZ=dP&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(cZ){cZ=Number(cZ[1])}if(cZ&&cZ>=15){dP=false;b1=true}var ba=bk&&(cw||dP&&(cZ==null||cZ<12.11));var bQ=bB||(ct&&!bx);var ee=false,ay=false;function y(ek,el){if(!(this instanceof y)){return new y(ek,el)}this.options=el=el||{};for(var em in dq){if(!el.hasOwnProperty(em)&&dq.hasOwnProperty(em)){el[em]=dq[em]}}bs(el);var eq=typeof el.value=="string"?0:el.value.first;var ep=this.display=f(ek,eq);ep.wrapper.CodeMirror=this;cJ(this);if(el.autofocus&&!cN){c2(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new ej()};bV(this);if(el.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var eo=el.value;if(typeof eo=="string"){eo=new X(el.value,el.mode)}b2(this,cI)(this,eo);if(ct){setTimeout(bH(dI,this,true),20)}d2(this);var er;try{er=(document.activeElement==ep.input)}catch(en){}if(er||(el.autofocus&&!cN)){setTimeout(bH(bL,this),20)}else{aq(this)}b2(this,function(){for(var et in aF){if(aF.propertyIsEnumerable(et)){aF[et](this,el[et],bq)}}for(var es=0;es<az.length;++es){az[es](this)}})()}function f(ek,em){var en={};var el=en.input=d7("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(b1){el.style.width="1000px"}else{el.setAttribute("wrap","off")}if(dn){el.style.border="1px solid black"}el.setAttribute("autocorrect","off");el.setAttribute("autocapitalize","off");el.setAttribute("spellcheck","false");en.inputDiv=d7("div",[el],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");en.scrollbarH=d7("div",[d7("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");en.scrollbarV=d7("div",[d7("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");en.scrollbarFiller=d7("div",null,"CodeMirror-scrollbar-filler");en.gutterFiller=d7("div",null,"CodeMirror-gutter-filler");en.lineDiv=d7("div",null,"CodeMirror-code");en.selectionDiv=d7("div",null,null,"position: relative; z-index: 1");en.cursor=d7("div","\u00a0","CodeMirror-cursor");en.otherCursor=d7("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");en.measure=d7("div",null,"CodeMirror-measure");en.lineSpace=d7("div",[en.measure,en.selectionDiv,en.lineDiv,en.cursor,en.otherCursor],null,"position: relative; outline: none");en.mover=d7("div",[d7("div",[en.lineSpace],"CodeMirror-lines")],null,"position: relative");en.sizer=d7("div",[en.mover],"CodeMirror-sizer");en.heightForcer=d7("div",null,null,"position: absolute; height: "+aJ+"px; width: 1px;");en.gutters=d7("div",null,"CodeMirror-gutters");en.lineGutter=null;en.scroller=d7("div",[en.sizer,en.heightForcer,en.gutters],"CodeMirror-scroll");en.scroller.setAttribute("tabIndex","-1");en.wrapper=d7("div",[en.inputDiv,en.scrollbarH,en.scrollbarV,en.scrollbarFiller,en.gutterFiller,en.scroller],"CodeMirror");if(by){en.gutters.style.zIndex=-1;en.scroller.style.paddingRight=0}if(ek.appendChild){ek.appendChild(en.wrapper)}else{ek(en.wrapper)}if(dn){el.style.width="0px"}if(!b1){en.scroller.draggable=true}if(aC){en.inputDiv.style.height="1px";en.inputDiv.style.position="absolute"}else{if(by){en.scrollbarH.style.minWidth=en.scrollbarV.style.minWidth="18px"}}en.viewOffset=en.lastSizeC=0;en.showingFrom=en.showingTo=em;en.lineNumWidth=en.lineNumInnerWidth=en.lineNumChars=null;en.prevInput="";en.alignWidgets=false;en.pollingFast=false;en.poll=new ej();en.cachedCharWidth=en.cachedTextHeight=null;en.measureLineCache=[];en.measureLineCachePos=0;en.inaccurateSelection=false;en.maxLine=null;en.maxLineLength=0;en.maxLineChanged=false;en.wheelDX=en.wheelDY=en.wheelStartX=en.wheelStartY=null;return en}function aR(ek){ek.doc.mode=y.getMode(ek.options,ek.doc.modeOption);ek.doc.iter(function(el){if(el.stateAfter){el.stateAfter=null}if(el.styles){el.styles=null}});ek.doc.frontier=ek.doc.first;cM(ek,100);ek.state.modeGen++;if(ek.curOp){N(ek)}}function da(ek){if(ek.options.lineWrapping){ek.display.wrapper.className+=" CodeMirror-wrap";ek.display.sizer.style.minWidth=""}else{ek.display.wrapper.className=ek.display.wrapper.className.replace(" CodeMirror-wrap","");ea(ek)}I(ek);N(ek);Q(ek);setTimeout(function(){dl(ek)},100)}function aE(ek){var em=at(ek.display),el=ek.options.lineWrapping;var en=el&&Math.max(5,ek.display.scroller.clientWidth/cr(ek.display)-3);return function(eo){if(dN(ek.doc,eo)){return 0}else{if(el){return(Math.ceil(eo.text.length/en)||1)*em}else{return em}}}}function I(ek){var em=ek.doc,el=aE(ek);em.iter(function(en){var eo=el(en);if(eo!=en.height){ec(en,eo)}})}function eh(ek){var em=du[ek.options.keyMap],el=em.style;ek.display.wrapper.className=ek.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(el?" cm-keymap-"+el:"");ek.state.disableInput=em.disableInput}function bV(ek){ek.display.wrapper.className=ek.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+ek.options.theme.replace(/(^|\s)\s*/g," cm-s-");Q(ek)}function cm(ek){cJ(ek);N(ek);setTimeout(function(){c6(ek)},20)}function cJ(ek){var el=ek.display.gutters,ep=ek.options.gutters;cC(el);for(var em=0;em<ep.length;++em){var en=ep[em];var eo=el.appendChild(d7("div",null,"CodeMirror-gutter "+en));if(en=="CodeMirror-linenumbers"){ek.display.lineGutter=eo;eo.style.width=(ek.display.lineNumWidth||1)+"px"}}el.style.display=em?"":"none"}function cR(eo,em){if(em.height==0){return 0}var el=em.text.length,ek,ep=em;while(ek=dd(ep)){var en=ek.find();ep=dx(eo,en.from.line);el+=en.from.ch-en.to.ch}ep=em;while(ek=cW(ep)){var en=ek.find();el-=ep.text.length-en.from.ch;ep=dx(eo,en.to.line);el+=ep.text.length-en.to.ch}return el}function ea(ek){var em=ek.display,el=ek.doc;em.maxLine=dx(el,el.first);em.maxLineLength=cR(el,em.maxLine);em.maxLineChanged=true;el.iter(function(eo){var en=cR(el,eo);if(en>em.maxLineLength){em.maxLineLength=en;em.maxLine=eo}})}function bs(ek){var el=ce(ek.gutters,"CodeMirror-linenumbers");if(el==-1&&ek.lineNumbers){ek.gutters=ek.gutters.concat(["CodeMirror-linenumbers"])}else{if(el>-1&&!ek.lineNumbers){ek.gutters=ek.gutters.slice(0);ek.gutters.splice(el,1)}}}function dl(ek){var eq=ek.display,el=ek.doc.height;var en=el+a3(eq);eq.sizer.style.minHeight=eq.heightForcer.style.top=en+"px";eq.gutters.style.height=Math.max(en,eq.scroller.clientHeight-aJ)+"px";var eo=Math.max(en,eq.scroller.scrollHeight);var ep=eq.scroller.scrollWidth>(eq.scroller.clientWidth+1);var em=eo>(eq.scroller.clientHeight+1);if(em){eq.scrollbarV.style.display="block";eq.scrollbarV.style.bottom=ep?i(eq.measure)+"px":"0";eq.scrollbarV.firstChild.style.height=(eo-eq.scroller.clientHeight+eq.scrollbarV.clientHeight)+"px"}else{eq.scrollbarV.style.display="";eq.scrollbarV.firstChild.style.height="0"}if(ep){eq.scrollbarH.style.display="block";eq.scrollbarH.style.right=em?i(eq.measure)+"px":"0";eq.scrollbarH.firstChild.style.width=(eq.scroller.scrollWidth-eq.scroller.clientWidth+eq.scrollbarH.clientWidth)+"px"}else{eq.scrollbarH.style.display="";eq.scrollbarH.firstChild.style.width="0"}if(ep&&em){eq.scrollbarFiller.style.display="block";eq.scrollbarFiller.style.height=eq.scrollbarFiller.style.width=i(eq.measure)+"px"}else{eq.scrollbarFiller.style.display=""}if(ep&&ek.options.coverGutterNextToScrollbar&&ek.options.fixedGutter){eq.gutterFiller.style.display="block";eq.gutterFiller.style.height=i(eq.measure)+"px";eq.gutterFiller.style.width=eq.gutters.offsetWidth+"px"}else{eq.gutterFiller.style.display=""}if(bM&&i(eq.measure)===0){eq.scrollbarV.style.minWidth=eq.scrollbarH.style.minHeight=b6?"18px":"12px";eq.scrollbarV.style.pointerEvents=eq.scrollbarH.style.pointerEvents="none"}}function bj(ep,eo,en){var em=ep.scroller.scrollTop,ek=ep.wrapper.clientHeight;if(typeof en=="number"){em=en}else{if(en){em=en.top;ek=en.bottom-en.top}}em=Math.floor(em-ds(ep));var el=Math.ceil(em+ek);return{from:a1(eo,em),to:a1(eo,el)}}function c6(ek){var eq=ek.display;if(!eq.alignWidgets&&(!eq.gutters.firstChild||!ek.options.fixedGutter)){return}var en=cB(eq)-eq.scroller.scrollLeft+ek.doc.scrollLeft;var ep=eq.gutters.offsetWidth,em=en+"px";for(var er=eq.lineDiv.firstChild;er;er=er.nextSibling){if(er.alignable){for(var eo=0,el=er.alignable;eo<el.length;++eo){el[eo].style.left=em}}}if(ek.options.fixedGutter){eq.gutters.style.left=(en+ep)+"px"}}function cE(ek){if(!ek.options.lineNumbers){return false}var ep=ek.doc,el=cU(ek.options,ep.first+ep.size-1),eo=ek.display;if(el.length!=eo.lineNumChars){var eq=eo.measure.appendChild(d7("div",[d7("div",el)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var em=eq.firstChild.offsetWidth,en=eq.offsetWidth-em;eo.lineGutter.style.width="";eo.lineNumInnerWidth=Math.max(em,eo.lineGutter.offsetWidth-en);eo.lineNumWidth=eo.lineNumInnerWidth+en;eo.lineNumChars=eo.lineNumInnerWidth?el.length:-1;eo.lineGutter.style.width=eo.lineNumWidth+"px";return true}return false}function cU(ek,el){return String(ek.lineNumberFormatter(el+ek.firstLineNumber))}function cB(ek){return ak(ek.scroller).left-ak(ek.sizer).left}function cu(ep,eo,es,et){var er=ep.display.showingFrom,eq=ep.display.showingTo,en;var ek=bj(ep.display,ep.doc,es);for(var em=true;;em=false){var el=ep.display.scroller.clientWidth;if(!cc(ep,eo,ek,et)){break}en=true;eo=[];aY(ep);dl(ep);if(em&&ep.options.lineWrapping&&el!=ep.display.scroller.clientWidth){et=true;continue}et=false;if(es){es=Math.min(ep.display.scroller.scrollHeight-ep.display.scroller.clientHeight,typeof es=="number"?es:es.top)}ek=bj(ep.display,ep.doc,es);if(ek.from>=ep.display.showingFrom&&ek.to<=ep.display.showingTo){break}}if(en){L(ep,"update",ep);if(ep.display.showingFrom!=er||ep.display.showingTo!=eq){L(ep,"viewportChange",ep,ep.display.showingFrom,ep.display.showingTo)}}return en}function cc(eo,eC,el,eA){var eu=eo.display,eD=eo.doc;if(!eu.wrapper.clientWidth){eu.showingFrom=eu.showingTo=eD.first;eu.viewOffset=0;return}if(!eA&&eC.length==0&&el.from>eu.showingFrom&&el.to<eu.showingTo){return}if(cE(eo)){eC=[{from:eD.first,to:eD.first+eD.size}]}var ez=eu.sizer.style.marginLeft=eu.gutters.offsetWidth+"px";eu.scrollbarH.style.left=eo.options.fixedGutter?ez:"0";var em=Infinity;if(eo.options.lineNumbers){for(var ev=0;ev<eC.length;++ev){if(eC[ev].diff&&eC[ev].from<em){em=eC[ev].from}}}var en=eD.first+eD.size;var et=Math.max(el.from-eo.options.viewportMargin,eD.first);var ek=Math.min(en,el.to+eo.options.viewportMargin);if(eu.showingFrom<et&&et-eu.showingFrom<20){et=Math.max(eD.first,eu.showingFrom)}if(eu.showingTo>ek&&eu.showingTo-ek<20){ek=Math.min(en,eu.showingTo)}if(ay){et=a8(s(eD,dx(eD,et)));while(ek<en&&dN(eD,dx(eD,ek))){++ek}}var ex=[{from:Math.max(eu.showingFrom,eD.first),to:Math.min(eu.showingTo,en)}];if(ex[0].from>=ex[0].to){ex=[]}else{ex=dH(ex,eC)}if(ay){for(var ev=0;ev<ex.length;++ev){var eq=ex[ev],ey;while(ey=cW(dx(eD,eq.to-1))){var eB=ey.find().from.line;if(eB>eq.from){eq.to=eB}else{ex.splice(ev--,1);break}}}}var es=0;for(var ev=0;ev<ex.length;++ev){var eq=ex[ev];if(eq.from<et){eq.from=et}if(eq.to>ek){eq.to=ek}if(eq.from>=eq.to){ex.splice(ev--,1)}else{es+=eq.to-eq.from}}if(!eA&&es==ek-et&&et==eu.showingFrom&&ek==eu.showingTo){h(eo);return}ex.sort(function(eF,eE){return eF.from-eE.from});try{var ep=document.activeElement}catch(ew){}if(es<(ek-et)*0.7){eu.lineDiv.style.display="none"}bz(eo,et,ek,ex,em);eu.lineDiv.style.display="";if(ep&&document.activeElement!=ep&&ep.offsetHeight){ep.focus()}var er=et!=eu.showingFrom||ek!=eu.showingTo||eu.lastSizeC!=eu.wrapper.clientHeight;if(er){eu.lastSizeC=eu.wrapper.clientHeight;cM(eo,400)}eu.showingFrom=et;eu.showingTo=ek;aA(eo);h(eo);return true}function aA(es){var ep=es.display;var el=ep.lineDiv.offsetTop;for(var ek=ep.lineDiv.firstChild,et;ek;ek=ek.nextSibling){if(ek.lineObj){if(by){var eo=ek.offsetTop+ek.offsetHeight;et=eo-el;el=eo}else{var en=ak(ek);et=en.bottom-en.top}var er=ek.lineObj.height-et;if(et<2){et=at(ep)}if(er>0.001||er<-0.001){ec(ek.lineObj,et);var eq=ek.lineObj.widgets;if(eq){for(var em=0;em<eq.length;++em){eq[em].height=eq[em].node.offsetHeight}}}}}}function h(ek){var el=ek.display.viewOffset=a7(ek,dx(ek.doc,ek.display.showingFrom));ek.display.mover.style.top=el+"px"}function dH(et,er){for(var eo=0,em=er.length||0;eo<em;++eo){var eq=er[eo],ek=[],es=eq.diff||0;for(var en=0,el=et.length;en<el;++en){var ep=et[en];if(eq.to<=ep.from&&eq.diff){ek.push({from:ep.from+es,to:ep.to+es})}else{if(eq.to<=ep.from||eq.from>=ep.to){ek.push(ep)}else{if(eq.from>ep.from){ek.push({from:ep.from,to:eq.from})}if(eq.to<ep.to){ek.push({from:eq.to+es,to:ep.to+es})}}}}et=ek}return et}function dv(ek){var eo=ek.display,en={},em={};for(var ep=eo.gutters.firstChild,el=0;ep;ep=ep.nextSibling,++el){en[ek.options.gutters[el]]=ep.offsetLeft;em[ek.options.gutters[el]]=ep.offsetWidth}return{fixedPos:cB(eo),gutterTotalWidth:eo.gutters.offsetWidth,gutterLeft:en,gutterWidth:em,wrapperWidth:eo.wrapper.clientWidth}}function bz(et,eq,er,ew,el){var es=dv(et);var ep=et.display,ev=et.options.lineNumbers;if(!ew.length&&(!b1||!et.display.currentWheelTarget)){cC(ep.lineDiv)}var ek=ep.lineDiv,eu=ek.firstChild;function eo(ey){var ex=ey.nextSibling;if(b1&&bk&&et.display.currentWheelTarget==ey){ey.style.display="none";ey.lineObj=null}else{ey.parentNode.removeChild(ey)}return ex}var em=ew.shift(),en=eq;et.doc.iter(eq,er,function(eG){if(em&&em.to==en){em=ew.shift()}if(dN(et.doc,eG)){if(eG.height!=0){ec(eG,0)}if(eG.widgets&&eu&&eu.previousSibling){for(var eB=0;eB<eG.widgets.length;++eB){var eD=eG.widgets[eB];if(eD.showIfHidden){var ez=eu.previousSibling;if(/pre/i.test(ez.nodeName)){var ey=d7("div",null,null,"position: relative");ez.parentNode.replaceChild(ey,ez);ey.appendChild(ez);ez=ey}var eE=ez.appendChild(d7("div",[eD.node],"CodeMirror-linewidget"));if(!eD.handleMouseEvents){eE.ignoreEvents=true}a0(eD,eE,ez,es)}}}}else{if(em&&em.from<=en&&em.to>en){while(eu.lineObj!=eG){eu=eo(eu)}if(ev&&el<=en&&eu.lineNumber){m(eu.lineNumber,cU(et.options,en))}eu=eu.nextSibling}else{if(eG.widgets){for(var eA=0,eF=eu,eC;eF&&eA<20;++eA,eF=eF.nextSibling){if(eF.lineObj==eG&&/div/i.test(eF.nodeName)){eC=eF;break}}}var ex=af(et,eG,en,es,eC);if(ex!=eC){ek.insertBefore(ex,eu)}else{while(eu!=eC){eu=eo(eu)}eu=eu.nextSibling}ex.lineObj=eG}}++en});while(eu){eu=eo(eu)}}function af(er,et,eu,ex,em){var eq=df(er,et),eD=eq.pre;var eG=et.gutterMarkers,eE=er.display,es;var el=eq.bgClass?eq.bgClass+" "+(et.bgClass||""):et.bgClass;if(!er.options.lineNumbers&&!eG&&!el&&!et.wrapClass&&!et.widgets){return eD}if(em){em.alignable=null;var eH=true,ep=0,en=null;for(var ez=em.firstChild,ey;ez;ez=ey){ey=ez.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(ez.className)){em.removeChild(ez)}else{for(var eF=0;eF<et.widgets.length;++eF){var eo=et.widgets[eF];if(eo.node==ez.firstChild){if(!eo.above&&!en){en=ez}a0(eo,ez,em,ex);++ep;break}}if(eF==et.widgets.length){eH=false;break}}}em.insertBefore(eD,en);if(eH&&ep==et.widgets.length){es=em;em.className=et.wrapClass||""}}if(!es){es=d7("div",null,et.wrapClass,"position: relative");es.appendChild(eD)}if(el){es.insertBefore(d7("div",null,el+" CodeMirror-linebackground"),es.firstChild)}if(er.options.lineNumbers||eG){var eB=es.insertBefore(d7("div",null,null,"position: absolute; left: "+(er.options.fixedGutter?ex.fixedPos:-ex.gutterTotalWidth)+"px"),es.firstChild);if(er.options.fixedGutter){(es.alignable||(es.alignable=[])).push(eB)}if(er.options.lineNumbers&&(!eG||!eG["CodeMirror-linenumbers"])){es.lineNumber=eB.appendChild(d7("div",cU(er.options,eu),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+ex.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+eE.lineNumInnerWidth+"px"))}if(eG){for(var eC=0;eC<er.options.gutters.length;++eC){var ew=er.options.gutters[eC],ev=eG.hasOwnProperty(ew)&&eG[ew];if(ev){eB.appendChild(d7("div",[ev],"CodeMirror-gutter-elt","left: "+ex.gutterLeft[ew]+"px; width: "+ex.gutterWidth[ew]+"px"))}}}}if(by){es.style.zIndex=2}if(et.widgets&&es!=em){for(var eF=0,ek=et.widgets;eF<ek.length;++eF){var eo=ek[eF],eA=d7("div",[eo.node],"CodeMirror-linewidget");if(!eo.handleMouseEvents){eA.ignoreEvents=true}a0(eo,eA,es,ex);if(eo.above){es.insertBefore(eA,er.options.lineNumbers&&et.height!=0?eB:eD)}else{es.appendChild(eA)}L(eo,"redraw")}}return es}function a0(en,em,el,eo){if(en.noHScroll){(el.alignable||(el.alignable=[])).push(em);var ek=eo.wrapperWidth;em.style.left=eo.fixedPos+"px";if(!en.coverGutter){ek-=eo.gutterTotalWidth;em.style.paddingLeft=eo.gutterTotalWidth+"px"}em.style.width=ek+"px"}if(en.coverGutter){em.style.zIndex=5;em.style.position="relative";if(!en.noHScroll){em.style.marginLeft=-eo.gutterTotalWidth+"px"}}}function aY(ek){var en=ek.display;var eo=dW(ek.doc.sel.from,ek.doc.sel.to);if(eo||ek.options.showCursorWhenSelecting){z(ek)}else{en.cursor.style.display=en.otherCursor.style.display="none"}if(!eo){S(ek)}else{en.selectionDiv.style.display="none"}if(ek.options.moveInputWithCursor){var ep=cz(ek,ek.doc.sel.head,"div");var el=ak(en.wrapper),em=ak(en.lineDiv);en.inputDiv.style.top=Math.max(0,Math.min(en.wrapper.clientHeight-10,ep.top+em.top-el.top))+"px";en.inputDiv.style.left=Math.max(0,Math.min(en.wrapper.clientWidth-10,ep.left+em.left-el.left))+"px"}}function z(ek){var el=ek.display,em=cz(ek,ek.doc.sel.head,"div");el.cursor.style.left=em.left+"px";el.cursor.style.top=em.top+"px";el.cursor.style.height=Math.max(0,em.bottom-em.top)*ek.options.cursorHeight+"px";el.cursor.style.display="";if(em.other){el.otherCursor.style.display="";el.otherCursor.style.left=em.other.left+"px";el.otherCursor.style.top=em.other.top+"px";el.otherCursor.style.height=(em.other.bottom-em.other.top)*0.85+"px"}else{el.otherCursor.style.display="none"}}function S(ev){var eq=ev.display,eu=ev.doc,ek=ev.doc.sel;var eo=document.createDocumentFragment();var et=eq.lineSpace.offsetWidth,em=ar(ev.display);function ex(eB,eA,ez,ey){if(eA<0){eA=0}eo.appendChild(d7("div",null,"CodeMirror-selected","position: absolute; left: "+eB+"px; top: "+eA+"px; width: "+(ez==null?et-eB:ez)+"px; height: "+(ey-eA)+"px"))}function es(ez,eB,eE){var eA=dx(eu,ez);var eC=eA.text.length;var eF,ey;function eD(eH,eG){return bS(ev,H(ez,eH),"div",eA,eG)}cD(a(eA),eB||0,eE==null?eC:eE,function(eN,eM,eG){var eJ=eD(eN,"left"),eK,eL,eI;if(eN==eM){eK=eJ;eL=eI=eJ.left}else{eK=eD(eM-1,"right");if(eG=="rtl"){var eH=eJ;eJ=eK;eK=eH}eL=eJ.left;eI=eK.right}if(eB==null&&eN==0){eL=em}if(eK.top-eJ.top>3){ex(eL,eJ.top,null,eJ.bottom);eL=em;if(eJ.bottom<eK.top){ex(eL,eJ.bottom,null,eK.top)}}if(eE==null&&eM==eC){eI=et}if(!eF||eJ.top<eF.top||eJ.top==eF.top&&eJ.left<eF.left){eF=eJ}if(!ey||eK.bottom>ey.bottom||eK.bottom==ey.bottom&&eK.right>ey.right){ey=eK}if(eL<em+1){eL=em}ex(eL,eK.top,eI-eL,eK.bottom)});return{start:eF,end:ey}}if(ek.from.line==ek.to.line){es(ek.from.line,ek.from.ch,ek.to.ch)}else{var en=dx(eu,ek.from.line),el=dx(eu,ek.to.line);var ep=s(eu,en)==s(eu,el);var ew=es(ek.from.line,ek.from.ch,ep?en.text.length:null).end;var er=es(ek.to.line,ep?0:null,ek.to.ch).start;if(ep){if(ew.top<er.top-2){ex(ew.right,ew.top,null,ew.bottom);ex(em,er.top,er.left,er.bottom)}else{ex(ew.right,ew.top,er.left-ew.right,ew.bottom)}}if(ew.bottom<er.top){ex(em,ew.bottom,null,er.top)}}bc(eq.selectionDiv,eo);eq.selectionDiv.style.display=""}function k(ek){if(!ek.state.focused){return}var em=ek.display;clearInterval(em.blinker);var el=true;em.cursor.style.visibility=em.otherCursor.style.visibility="";if(ek.options.cursorBlinkRate>0){em.blinker=setInterval(function(){em.cursor.style.visibility=em.otherCursor.style.visibility=(el=!el)?"":"hidden"},ek.options.cursorBlinkRate)}}function cM(ek,el){if(ek.doc.mode.startState&&ek.doc.frontier<ek.display.showingTo){ek.state.highlight.set(el,bH(bW,ek))}}function bW(ek){var en=ek.doc;if(en.frontier<en.first){en.frontier=en.first}if(en.frontier>=ek.display.showingTo){return}var el=+new Date+ek.options.workTime;var em=bi(en.mode,cp(ek,en.frontier));var ep=[],eo;en.iter(en.frontier,Math.min(en.first+en.size,ek.display.showingTo+500),function(eq){if(en.frontier>=ek.display.showingFrom){var es=eq.styles;eq.styles=dS(ek,eq,em);var et=!es||es.length!=eq.styles.length;for(var er=0;!et&&er<es.length;++er){et=es[er]!=eq.styles[er]}if(et){if(eo&&eo.end==en.frontier){eo.end++}else{ep.push(eo={start:en.frontier,end:en.frontier+1})}}eq.stateAfter=bi(en.mode,em)}else{cn(ek,eq,em);eq.stateAfter=en.frontier%5==0?bi(en.mode,em):null}++en.frontier;if(+new Date>el){cM(ek,ek.options.workDelay);return true}});if(ep.length){b2(ek,function(){for(var eq=0;eq<ep.length;++eq){N(this,ep[eq].start,ep[eq].end)}})()}}function bJ(eq,ek,en){var el,eo,ep=eq.doc;var em=en?-1:ek-(eq.doc.mode.innerMode?1000:100);for(var et=ek;et>em;--et){if(et<=ep.first){return ep.first}var es=dx(ep,et-1);if(es.stateAfter&&(!en||et<=ep.frontier)){return et}var er=bb(es.text,null,eq.options.tabSize);if(eo==null||el>er){eo=et-1;el=er}}return eo}function cp(ek,eq,el){var eo=ek.doc,en=ek.display;if(!eo.mode.startState){return true}var ep=bJ(ek,eq,el),em=ep>eo.first&&dx(eo,ep-1).stateAfter;if(!em){em=bh(eo.mode)}else{em=bi(eo.mode,em)}eo.iter(ep,eq,function(er){cn(ek,er,em);var es=ep==eq-1||ep%5==0||ep>=en.showingFrom&&ep<en.showingTo;er.stateAfter=es?bi(eo.mode,em):null;++ep});if(el){eo.frontier=ep}return em}function ds(ek){return ek.lineSpace.offsetTop}function a3(ek){return ek.mover.offsetHeight-ek.lineSpace.offsetHeight}function ar(el){var ek=bc(el.measure,d7("pre",null,null,"text-align: left")).appendChild(d7("span","x"));return ek.offsetLeft}function cO(er,es,el,eo,ep){var en=-1;eo=eo||a4(er,es);if(eo.crude){var em=eo.left+el*eo.width;return{left:em,right:em+eo.width,top:eo.top,bottom:eo.bottom}}for(var eq=el;;eq+=en){var ek=eo[eq];if(ek){break}if(en<0&&eq==0){en=1}}ep=eq>el?"left":eq<el?"right":ep;if(ep=="left"&&ek.leftSide){ek=ek.leftSide}else{if(ep=="right"&&ek.rightSide){ek=ek.rightSide}}return{left:eq<el?ek.right:ek.left,right:eq>el?ek.left:ek.right,top:ek.top,bottom:ek.bottom}}function dr(ek,el){var en=ek.display.measureLineCache;for(var eo=0;eo<en.length;++eo){var em=en[eo];if(em.text==el.text&&em.markedSpans==el.markedSpans&&ek.display.scroller.clientWidth==em.width&&em.classes==el.textClass+"|"+el.wrapClass){return em}}}function d0(ek,el){var em=dr(ek,el);if(em){em.text=em.measure=em.markedSpans=null}}function a4(ek,el){var ep=dr(ek,el);if(ep){return ep.measure}var eo=cb(ek,el);var en=ek.display.measureLineCache;var em={text:el.text,width:ek.display.scroller.clientWidth,markedSpans:el.markedSpans,measure:eo,classes:el.textClass+"|"+el.wrapClass};if(en.length==16){en[++ek.display.measureLineCachePos%16]=em}else{en.push(em)}return eo}function cb(er,et){if(!er.options.lineWrapping&&et.text.length>=er.options.crudeMeasuringFrom){return d8(er,et)}var ez=er.display,ep=R(et.text.length);var ew=df(er,et,ep,true).pre;if(ct&&!by&&!er.options.lineWrapping&&ew.childNodes.length>100){var em=document.createDocumentFragment();var eu=10,ex=ew.childNodes.length;for(var eB=0,ev=Math.ceil(ex/eu);eB<ev;++eB){var es=d7("div",null,null,"display: inline-block");for(var eA=0;eA<eu&&ex;++eA){es.appendChild(ew.firstChild);--ex}em.appendChild(es)}ew.appendChild(em)}bc(ez.measure,ew);var el=ak(ez.lineDiv);var ek=[],eE=R(et.text.length),eD=ew.offsetHeight;if(bx&&ez.measure.first!=ew){bc(ez.measure,ew)}function eC(eH){var eJ=eH.top-el.top,eL=eH.bottom-el.top;if(eL>eD){eL=eD}if(eJ<0){eJ=0}for(var eG=ek.length-2;eG>=0;eG-=2){var eI=ek[eG],eK=ek[eG+1];if(eI>eL||eK<eJ){continue}if(eI<=eJ&&eK>=eL||eJ<=eI&&eL>=eK||Math.min(eL,eK)-Math.max(eJ,eI)>=(eL-eJ)>>1){ek[eG]=Math.min(eJ,eI);ek[eG+1]=Math.max(eL,eK);break}}if(eG<0){eG=ek.length;ek.push(eJ,eL)}return{left:eH.left-el.left,right:eH.right-el.left,top:eG,bottom:null}}function eF(eG){eG.bottom=ek[eG.top+1];eG.top=ek[eG.top]}for(var eB=0,eo;eB<ep.length;++eB){if(eo=ep[eB]){var ey=eo,en=null;if(/\bCodeMirror-widget\b/.test(eo.className)&&eo.getClientRects){if(eo.firstChild.nodeType==1){ey=eo.firstChild}var eq=ey.getClientRects();if(eq.length>1){en=eE[eB]=eC(eq[0]);en.rightSide=eC(eq[eq.length-1])}}if(!en){en=eE[eB]=eC(ak(ey))}if(eo.measureRight){en.right=ak(eo.measureRight).left}if(eo.leftSide){en.leftSide=eC(ak(eo.leftSide))}}}cC(er.display.measure);for(var eB=0,eo;eB<eE.length;++eB){if(eo=eE[eB]){eF(eo);if(eo.leftSide){eF(eo.leftSide)}if(eo.rightSide){eF(eo.rightSide)}}}return eE}function d8(ek,el){var ep=new eb(el.text.slice(0,100),null);if(el.textClass){ep.textClass=el.textClass}var en=cb(ek,ep);var eo=cO(ek,ep,0,en,"left");var em=cO(ek,ep,99,en,"right");return{crude:true,top:eo.top,left:eo.left,bottom:eo.bottom,width:(em.right-eo.left)/100}}function c7(ek,em){var er=false;if(em.markedSpans){for(var en=0;en<em.markedSpans;++en){var ep=em.markedSpans[en];if(ep.collapsed&&(ep.to==null||ep.to==em.text.length)){er=true}}}var eo=!er&&dr(ek,em);if(eo||em.text.length>=ek.options.crudeMeasuringFrom){return cO(ek,em,em.text.length,eo&&eo.measure,"right").right}var eq=df(ek,em,null,true).pre;var el=eq.appendChild(aN(ek.display.measure));bc(ek.display.measure,eq);return ak(el).right-ak(ek.display.lineDiv).left}function Q(ek){ek.display.measureLineCache.length=ek.display.measureLineCachePos=0;ek.display.cachedCharWidth=ek.display.cachedTextHeight=null;if(!ek.options.lineWrapping){ek.display.maxLineChanged=true}ek.display.lineNumChars=null}function bG(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function bF(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function de(eq,en,ep,el){if(en.widgets){for(var em=0;em<en.widgets.length;++em){if(en.widgets[em].above){var es=bZ(en.widgets[em]);ep.top+=es;ep.bottom+=es}}}if(el=="line"){return ep}if(!el){el="local"}var eo=a7(eq,en);if(el=="local"){eo+=ds(eq.display)}else{eo-=eq.display.viewOffset}if(el=="page"||el=="window"){var ek=ak(eq.display.lineSpace);eo+=ek.top+(el=="window"?0:bF());var er=ek.left+(el=="window"?0:bG());ep.left+=er;ep.right+=er}ep.top+=eo;ep.bottom+=eo;return ep}function eg(el,eo,em){if(em=="div"){return eo}var eq=eo.left,ep=eo.top;if(em=="page"){eq-=bG();ep-=bF()}else{if(em=="local"||!em){var en=ak(el.display.sizer);eq+=en.left;ep+=en.top}}var ek=ak(el.display.lineSpace);return{left:eq-ek.left,top:ep-ek.top}}function bS(ek,eo,en,em,el){if(!em){em=dx(ek.doc,eo.line)}return de(ek,em,cO(ek,em,eo.ch,null,el),en)}function cz(et,es,em,er,ep){er=er||dx(et.doc,es.line);if(!ep){ep=a4(et,er)}function eo(ex,ew){var ev=cO(et,er,ex,ep,ew?"right":"left");if(ew){ev.left=ev.right}else{ev.right=ev.left}return de(et,er,ev,em)}function eu(ey,ev){var ew=eq[ev],ex=ew.level%2;if(ey==co(ew)&&ev&&ew.level<eq[ev-1].level){ew=eq[--ev];ey=ef(ew)-(ew.level%2?0:1);ex=true}else{if(ey==ef(ew)&&ev<eq.length-1&&ew.level<eq[ev+1].level){ew=eq[++ev];ey=co(ew)-ew.level%2;ex=false}}if(ex&&ey==ew.to&&ey>ew.from){return eo(ey-1)}return eo(ey,ex)}var eq=a(er),ek=es.ch;if(!eq){return eo(ek)}var el=ag(eq,ek);var en=eu(ek,el);if(dp!=null){en.other=eu(ek,dp)}return en}function d6(ek,el,em,eo){var en=new H(ek,el);en.xRel=eo;if(em){en.outside=true}return en}function d1(er,eo,en){var eq=er.doc;en+=er.display.viewOffset;if(en<0){return d6(eq.first,0,true,-1)}var el=a1(eq,en),es=eq.first+eq.size-1;if(el>es){return d6(eq.first+eq.size-1,dx(eq,es).text.length,true,1)}if(eo<0){eo=0}for(;;){var em=dx(eq,el);var et=b0(er,em,el,eo,en);var ep=cW(em);var ek=ep&&ep.find();if(ep&&(et.ch>ek.from.ch||et.ch==ek.from.ch&&et.xRel>0)){el=ek.to.line}else{return et}}}function b0(eu,em,ex,ew,ev){var et=ev-a7(eu,em);var eq=false,eD=2*eu.display.wrapper.clientWidth;var eC=a4(eu,em);function eH(eJ){var eK=cz(eu,H(ex,eJ),"line",em,eC);eq=true;if(et>eK.bottom){return eK.left-eD}else{if(et<eK.top){return eK.left+eD}else{eq=false}}return eK.left}var ez=a(em),eB=em.text.length;var eE=bN(em),en=bX(em);var eA=eH(eE),ek=eq,el=eH(en),ep=eq;if(ew>el){return d6(ex,en,ep,1)}for(;;){if(ez?en==eE||en==p(em,eE,1):en-eE<=1){var ey=ew<eA||ew-eA<=el-ew?eE:en;var eG=ew-(ey==eE?eA:el);while(dJ.test(em.text.charAt(ey))){++ey}var es=d6(ex,ey,ey==eE?ek:ep,eG<0?-1:eG?1:0);return es}var er=Math.ceil(eB/2),eI=eE+er;if(ez){eI=eE;for(var eF=0;eF<er;++eF){eI=p(em,eI,1)}}var eo=eH(eI);if(eo>ew){en=eI;el=eo;if(ep=eq){el+=1000}eB=er}else{eE=eI;eA=eo;ek=eq;eB-=er}}}var ah;function at(em){if(em.cachedTextHeight!=null){return em.cachedTextHeight}if(ah==null){ah=d7("pre");for(var el=0;el<49;++el){ah.appendChild(document.createTextNode("x"));ah.appendChild(d7("br"))}ah.appendChild(document.createTextNode("x"))}bc(em.measure,ah);var ek=ah.offsetHeight/50;if(ek>3){em.cachedTextHeight=ek}cC(em.measure);return ek||1}function cr(en){if(en.cachedCharWidth!=null){return en.cachedCharWidth}var ek=d7("span","x");var em=d7("pre",[ek]);bc(en.measure,em);var el=ek.offsetWidth;if(el>2){en.cachedCharWidth=el}return el||10}var cG=0;function bR(ek){ek.curOp={changes:[],forceUpdate:false,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++cG};if(!bE++){aO=[]}}function T(ew){var er=ew.curOp,ev=ew.doc,es=ew.display;ew.curOp=null;if(er.updateMaxLine){ea(ew)}if(es.maxLineChanged&&!ew.options.lineWrapping&&es.maxLine){var el=c7(ew,es.maxLine);es.sizer.style.minWidth=Math.max(0,el+3+aJ)+"px";es.maxLineChanged=false;var et=Math.max(0,es.sizer.offsetLeft+es.sizer.offsetWidth-es.scroller.clientWidth);if(et<ev.scrollLeft&&!er.updateScrollPos){aZ(ew,Math.min(es.scroller.scrollLeft,et),true)}}var em,ep;if(er.updateScrollPos){em=er.updateScrollPos}else{if(er.selectionChanged&&es.scroller.clientHeight){var eu=cz(ew,ev.sel.head);em=x(ew,eu.left,eu.top,eu.left,eu.bottom)}}if(er.changes.length||er.forceUpdate||em&&em.scrollTop!=null){ep=cu(ew,er.changes,em&&em.scrollTop,er.forceUpdate);if(ew.display.scroller.offsetHeight){ew.doc.scrollTop=ew.display.scroller.scrollTop}}if(!ep&&er.selectionChanged){aY(ew)}if(er.updateScrollPos){es.scroller.scrollTop=es.scrollbarV.scrollTop=ev.scrollTop=em.scrollTop;es.scroller.scrollLeft=es.scrollbarH.scrollLeft=ev.scrollLeft=em.scrollLeft;c6(ew);if(er.scrollToPos){u(ew,dX(ew.doc,er.scrollToPos.from),dX(ew.doc,er.scrollToPos.to),er.scrollToPos.margin)}}else{if(em){ab(ew)}}if(er.selectionChanged){k(ew)}if(ew.state.focused&&er.updateInput){dI(ew,er.userSelChange)}var eq=er.maybeHiddenMarkers,ek=er.maybeUnhiddenMarkers;if(eq){for(var eo=0;eo<eq.length;++eo){if(!eq[eo].lines.length){ae(eq[eo],"hide")}}}if(ek){for(var eo=0;eo<ek.length;++eo){if(ek[eo].lines.length){ae(ek[eo],"unhide")}}}var en;if(!--bE){en=aO;aO=null}if(er.textChanged){ae(ew,"change",ew,er.textChanged)}if(er.cursorActivity){ae(ew,"cursorActivity",ew)}if(en){for(var eo=0;eo<en.length;++eo){en[eo]()}}}function b2(ek,el){return function(){var en=ek||this,eo=!en.curOp;if(eo){bR(en)}try{var em=el.apply(en,arguments)}finally{if(eo){T(en)}}return em}}function dR(ek){return function(){var em=this.cm&&!this.cm.curOp,el;if(em){bR(this.cm)}try{el=ek.apply(this,arguments)}finally{if(em){T(this.cm)}}return el}}function bU(el,en){var em=!el.curOp,ek;if(em){bR(el)}try{ek=en()}finally{if(em){T(el)}}return ek}function N(ek,en,em,el){if(en==null){en=ek.doc.first}if(em==null){em=ek.doc.first+ek.doc.size}ek.curOp.changes.push({from:en,to:em,diff:el})}function aM(ek){if(ek.display.pollingFast){return}ek.display.poll.set(ek.options.pollInterval,function(){bu(ek);if(ek.state.focused){aM(ek)}})}function t(ek){var el=false;ek.display.pollingFast=true;function em(){var en=bu(ek);if(!en&&!el){el=true;ek.display.poll.set(60,em)}else{ek.display.pollingFast=false;aM(ek)}}ek.display.poll.set(20,em)}function bu(ev){var eq=ev.display.input,en=ev.display.prevInput,eu=ev.doc,ek=eu.sel;if(!ev.state.focused||aS(eq)||P(ev)||ev.state.disableInput){return false}if(ev.state.pasteIncoming&&ev.state.fakedLastChar){eq.value=eq.value.substring(0,eq.value.length-1);ev.state.fakedLastChar=false}var ew=eq.value;if(ew==en&&dW(ek.from,ek.to)){return false}if(ct&&!bx&&ev.display.inputHasSelection===ew){dI(ev,true);return false}var em=!ev.curOp;if(em){bR(ev)}ek.shift=false;var ep=0,el=Math.min(en.length,ew.length);while(ep<el&&en.charCodeAt(ep)==ew.charCodeAt(ep)){++ep}var et=ek.from,es=ek.to;if(ep<en.length){et=H(et.line,et.ch-(en.length-ep))}else{if(ev.state.overwrite&&dW(et,es)&&!ev.state.pasteIncoming){es=H(es.line,Math.min(dx(eu,es.line).text.length,es.ch+(ew.length-ep)))}}var eo=ev.curOp.updateInput;var er={from:et,to:es,text:av(ew.slice(ep)),origin:ev.state.pasteIncoming?"paste":"+input"};aG(ev.doc,er,"end");ev.curOp.updateInput=eo;L(ev,"inputRead",ev,er);if(ew.length>1000||ew.indexOf("\n")>-1){eq.value=ev.display.prevInput=""}else{ev.display.prevInput=ew}if(em){T(ev)}ev.state.pasteIncoming=false;return true}function dI(ek,em){var el,en,ep=ek.doc;if(!dW(ep.sel.from,ep.sel.to)){ek.display.prevInput="";el=b8&&(ep.sel.to.line-ep.sel.from.line>100||(en=ek.getSelection()).length>1000);var eo=el?"-":en||ek.getSelection();ek.display.input.value=eo;if(ek.state.focused){cv(ek.display.input)}if(ct&&!bx){ek.display.inputHasSelection=eo}}else{if(em){ek.display.prevInput=ek.display.input.value="";if(ct&&!bx){ek.display.inputHasSelection=null}}}ek.display.inaccurateSelection=el}function c2(ek){if(ek.options.readOnly!="nocursor"&&(!cN||document.activeElement!=ek.display.input)){ek.display.input.focus()}}function P(ek){return ek.options.readOnly||ek.doc.cantEdit}function d2(el){var eq=el.display;bf(eq.scroller,"mousedown",b2(el,cV));if(ct){bf(eq.scroller,"dblclick",b2(el,function(et){if(ao(el,et)){return}var eu=bA(el,et);if(!eu||j(el,et)||aB(el.display,et)){return}bO(et);var es=Y(dx(el.doc,eu.line).text,eu);d4(el.doc,es.from,es.to)}))}else{bf(eq.scroller,"dblclick",function(es){ao(el,es)||bO(es)})}bf(eq.lineSpace,"selectstart",function(es){if(!aB(eq,es)){bO(es)}});if(!bQ){bf(eq.scroller,"contextmenu",function(es){aa(el,es)})}bf(eq.scroller,"scroll",function(){if(eq.scroller.clientHeight){C(el,eq.scroller.scrollTop);aZ(el,eq.scroller.scrollLeft,true);ae(el,"scroll",el)}});bf(eq.scrollbarV,"scroll",function(){if(eq.scroller.clientHeight){C(el,eq.scrollbarV.scrollTop)}});bf(eq.scrollbarH,"scroll",function(){if(eq.scroller.clientHeight){aZ(el,eq.scrollbarH.scrollLeft)}});bf(eq.scroller,"mousewheel",function(es){b(el,es)});bf(eq.scroller,"DOMMouseScroll",function(es){b(el,es)});function er(){if(el.state.focused){setTimeout(bH(c2,el),0)}}bf(eq.scrollbarH,"mousedown",er);bf(eq.scrollbarV,"mousedown",er);bf(eq.wrapper,"scroll",function(){eq.wrapper.scrollTop=eq.wrapper.scrollLeft=0});var ek;function eo(){if(ek==null){ek=setTimeout(function(){ek=null;eq.cachedCharWidth=eq.cachedTextHeight=cX=null;Q(el);bU(el,bH(N,el))},100)}}bf(window,"resize",eo);function en(){for(var es=eq.wrapper.parentNode;es&&es!=document.body;es=es.parentNode){}if(es){setTimeout(en,5000)}else{cL(window,"resize",eo)}}setTimeout(en,5000);bf(eq.input,"keyup",b2(el,function(es){if(ao(el,es)||el.options.onKeyEvent&&el.options.onKeyEvent(el,V(es))){return}if(es.keyCode==16){el.doc.sel.shift=false}}));bf(eq.input,"input",function(){if(ct&&!bx&&el.display.inputHasSelection){el.display.inputHasSelection=null}t(el)});bf(eq.input,"keydown",b2(el,l));bf(eq.input,"keypress",b2(el,bI));bf(eq.input,"focus",bH(bL,el));bf(eq.input,"blur",bH(aq,el));function em(es){if(ao(el,es)||el.options.onDragEvent&&el.options.onDragEvent(el,V(es))){return}cT(es)}if(el.options.dragDrop){bf(eq.scroller,"dragstart",function(es){F(el,es)});bf(eq.scroller,"dragenter",em);bf(eq.scroller,"dragover",em);bf(eq.scroller,"drop",b2(el,aI))}bf(eq.scroller,"paste",function(es){if(aB(eq,es)){return}c2(el);t(el)});bf(eq.input,"paste",function(){if(b1&&!el.state.fakedLastChar&&!(new Date-el.state.lastMiddleDown<200)){var et=eq.input.selectionStart,es=eq.input.selectionEnd;eq.input.value+="$";eq.input.selectionStart=et;eq.input.selectionEnd=es;el.state.fakedLastChar=true}el.state.pasteIncoming=true;t(el)});function ep(){if(eq.inaccurateSelection){eq.prevInput="";eq.inaccurateSelection=false;eq.input.value=el.getSelection();cv(eq.input)}}bf(eq.input,"cut",ep);bf(eq.input,"copy",ep);if(aC){bf(eq.sizer,"mouseup",function(){if(document.activeElement==eq.input){eq.input.blur()}c2(el)})}}function aB(el,ek){for(var em=A(ek);em!=el.wrapper;em=em.parentNode){if(!em||em.ignoreEvents||em.parentNode==el.sizer&&em!=el.mover){return true}}}function bA(el,eq,en){var ep=el.display;if(!en){var eo=A(eq);if(eo==ep.scrollbarH||eo==ep.scrollbarH.firstChild||eo==ep.scrollbarV||eo==ep.scrollbarV.firstChild||eo==ep.scrollbarFiller||eo==ep.gutterFiller){return null}}var ek,er,em=ak(ep.lineSpace);try{ek=eq.clientX;er=eq.clientY}catch(eq){return null}return d1(el,ek-em.left,er-em.top)}var cg,ca;function cV(eC){if(ao(this,eC)){return}var en=this,ex=en.display,eE=en.doc,ev=eE.sel;ev.shift=eC.shiftKey;if(aB(ex,eC)){if(!b1){ex.scroller.draggable=false;setTimeout(function(){ex.scroller.draggable=true},100)}return}if(j(en,eC)){return}var em=bA(en,eC);switch(dZ(eC)){case 3:if(bQ){aa.call(en,en,eC)}return;case 2:if(b1){en.state.lastMiddleDown=+new Date}if(em){d4(en.doc,em)}setTimeout(bH(c2,en),20);bO(eC);return}if(!em){if(A(eC)==ex.scroller){bO(eC)}return}if(!en.state.focused){bL(en)}var ek=+new Date,el="single";if(ca&&ca.time>ek-400&&dW(ca.pos,em)){el="triple";bO(eC);setTimeout(bH(c2,en),20);aL(en,em.line)}else{if(cg&&cg.time>ek-400&&dW(cg.pos,em)){el="double";ca={time:ek,pos:em};bO(eC);var ez=Y(dx(eE,em.line).text,em);d4(en.doc,ez.from,ez.to)}else{cg={time:ek,pos:em}}}var eo=em;if(en.options.dragDrop&&dc&&!P(en)&&!dW(ev.from,ev.to)&&!dy(em,ev.from)&&!dy(ev.to,em)&&el=="single"){var ey=b2(en,function(eF){if(b1){ex.scroller.draggable=false}en.state.draggingText=false;cL(document,"mouseup",ey);cL(ex.scroller,"drop",ey);if(Math.abs(eC.clientX-eF.clientX)+Math.abs(eC.clientY-eF.clientY)<10){bO(eF);d4(en.doc,em);c2(en)}});if(b1){ex.scroller.draggable=true}en.state.draggingText=ey;if(ex.scroller.dragDrop){ex.scroller.dragDrop()}bf(document,"mouseup",ey);bf(ex.scroller,"drop",ey);return}bO(eC);if(el=="single"){d4(en.doc,dX(eE,em))}var eD=ev.from,es=ev.to,ew=em;function eA(eG){if(dW(ew,eG)){return}ew=eG;if(el=="single"){d4(en.doc,dX(eE,em),eG);return}eD=dX(eE,eD);es=dX(eE,es);if(el=="double"){var eF=Y(dx(eE,eG.line).text,eG);if(dy(eG,eD)){d4(en.doc,eF.from,es)}else{d4(en.doc,eD,eF.to)}}else{if(el=="triple"){if(dy(eG,eD)){d4(en.doc,es,dX(eE,H(eG.line,0)))}else{d4(en.doc,eD,dX(eE,H(eG.line+1,0)))}}}}var et=ak(ex.wrapper);var ep=0;function eB(eH){var eF=++ep;var eJ=bA(en,eH,true);if(!eJ){return}if(!dW(eJ,eo)){if(!en.state.focused){bL(en)}eo=eJ;eA(eJ);var eI=bj(ex,eE);if(eJ.line>=eI.to||eJ.line<eI.from){setTimeout(b2(en,function(){if(ep==eF){eB(eH)}}),150)}}else{var eG=eH.clientY<et.top?-20:eH.clientY>et.bottom?20:0;if(eG){setTimeout(b2(en,function(){if(ep!=eF){return}ex.scroller.scrollTop+=eG;eB(eH)}),50)}}}function er(eF){ep=Infinity;bO(eF);c2(en);cL(document,"mousemove",eu);cL(document,"mouseup",eq)}var eu=b2(en,function(eF){if(!ct&&!dZ(eF)){er(eF)}else{eB(eF)}});var eq=b2(en,er);bf(document,"mousemove",eu);bf(document,"mouseup",eq)}function ei(ev,er,et,eu,en){try{var el=er.clientX,ek=er.clientY}catch(er){return false}if(el>=Math.floor(ak(ev.display.gutters).right)){return false}if(eu){bO(er)}var es=ev.display;var eq=ak(es.lineDiv);if(ek>eq.bottom||!dD(ev,et)){return a6(er)}ek-=eq.top-es.viewOffset;for(var eo=0;eo<ev.options.gutters.length;++eo){var ep=es.gutters.childNodes[eo];if(ep&&ak(ep).right>=el){var ew=a1(ev.doc,ek);var em=ev.options.gutters[eo];en(ev,et,ev,ew,em,er);return a6(er)}}}function cd(ek,el){if(!dD(ek,"gutterContextMenu")){return false}return ei(ek,el,"gutterContextMenu",false,ae)}function j(ek,el){return ei(ek,el,"gutterClick",true,L)}var M=0;function aI(eq){var es=this;if(ao(es,eq)||aB(es.display,eq)||(es.options.onDragEvent&&es.options.onDragEvent(es,V(eq)))){return}bO(eq);if(ct){M=+new Date}var er=bA(es,eq,true),ek=eq.dataTransfer.files;if(!er||P(es)){return}if(ek&&ek.length&&window.FileReader&&window.File){var em=ek.length,eu=Array(em),el=0;var en=function(ex,ew){var ev=new FileReader;ev.onload=function(){eu[ew]=ev.result;if(++el==em){er=dX(es.doc,er);aG(es.doc,{from:er,to:er,text:av(eu.join("\n")),origin:"paste"},"around")}};ev.readAsText(ex)};for(var eo=0;eo<em;++eo){en(ek[eo],eo)}}else{if(es.state.draggingText&&!(dy(er,es.doc.sel.from)||dy(es.doc.sel.to,er))){es.state.draggingText(eq);setTimeout(bH(c2,es),20);return}try{var eu=eq.dataTransfer.getData("Text");if(eu){var et=es.doc.sel.from,ep=es.doc.sel.to;bd(es.doc,er,er);if(es.state.draggingText){aw(es.doc,"",et,ep,"paste")}es.replaceSelection(eu,null,"paste");c2(es);bL(es)}}catch(eq){}}}function F(el,en){if(ct&&(!el.state.draggingText||+new Date-M<100)){cT(en);return}if(ao(el,en)||aB(el.display,en)){return}var ek=el.getSelection();en.dataTransfer.setData("Text",ek);if(en.dataTransfer.setDragImage&&!ad){var em=d7("img",null,null,"position: fixed; left: 0; top: 0;");em.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(dP){em.width=em.height=1;el.display.wrapper.appendChild(em);em._top=em.offsetTop}en.dataTransfer.setDragImage(em,0,0);if(dP){em.parentNode.removeChild(em)}}}function C(ek,el){if(Math.abs(ek.doc.scrollTop-el)<2){return}ek.doc.scrollTop=el;if(!bB){cu(ek,[],el)}if(ek.display.scroller.scrollTop!=el){ek.display.scroller.scrollTop=el}if(ek.display.scrollbarV.scrollTop!=el){ek.display.scrollbarV.scrollTop=el}if(bB){cu(ek,[])}cM(ek,100)}function aZ(ek,em,el){if(el?em==ek.doc.scrollLeft:Math.abs(ek.doc.scrollLeft-em)<2){return}em=Math.min(em,ek.display.scroller.scrollWidth-ek.display.scroller.clientWidth);ek.doc.scrollLeft=em;c6(ek);if(ek.display.scroller.scrollLeft!=em){ek.display.scroller.scrollLeft=em}if(ek.display.scrollbarH.scrollLeft!=em){ek.display.scrollbarH.scrollLeft=em}}var dE=0,bt=null;if(ct){bt=-0.53}else{if(bB){bt=15}else{if(b9){bt=-0.7}else{if(ad){bt=-1/3}}}}function b(eq,el){var et=el.wheelDeltaX,es=el.wheelDeltaY;if(et==null&&el.detail&&el.axis==el.HORIZONTAL_AXIS){et=el.detail}if(es==null&&el.detail&&el.axis==el.VERTICAL_AXIS){es=el.detail}else{if(es==null){es=el.wheelDelta}}var en=eq.display,ep=en.scroller;if(!(et&&ep.scrollWidth>ep.clientWidth||es&&ep.scrollHeight>ep.clientHeight)){return}if(es&&bk&&b1){for(var er=el.target;er!=ep;er=er.parentNode){if(er.lineObj){eq.display.currentWheelTarget=er;break}}}if(et&&!bB&&!dP&&bt!=null){if(es){C(eq,Math.max(0,Math.min(ep.scrollTop+es*bt,ep.scrollHeight-ep.clientHeight)))}aZ(eq,Math.max(0,Math.min(ep.scrollLeft+et*bt,ep.scrollWidth-ep.clientWidth)));bO(el);en.wheelStartX=null;return}if(es&&bt!=null){var ek=es*bt;var eo=eq.doc.scrollTop,em=eo+en.wrapper.clientHeight;if(ek<0){eo=Math.max(0,eo+ek-50)}else{em=Math.min(eq.doc.height,em+ek+50)}cu(eq,[],{top:eo,bottom:em})}if(dE<20){if(en.wheelStartX==null){en.wheelStartX=ep.scrollLeft;en.wheelStartY=ep.scrollTop;en.wheelDX=et;en.wheelDY=es;setTimeout(function(){if(en.wheelStartX==null){return}var eu=ep.scrollLeft-en.wheelStartX;var ew=ep.scrollTop-en.wheelStartY;var ev=(ew&&en.wheelDY&&ew/en.wheelDY)||(eu&&en.wheelDX&&eu/en.wheelDX);en.wheelStartX=en.wheelStartY=null;if(!ev){return}bt=(bt*dE+ev)/(dE+1);++dE},200)}else{en.wheelDX+=et;en.wheelDY+=es}}}function d3(el,eo,ek){if(typeof eo=="string"){eo=c4[eo];if(!eo){return false}}if(el.display.pollingFast&&bu(el)){el.display.pollingFast=false}var ep=el.doc,en=ep.sel.shift,em=false;try{if(P(el)){el.state.suppressEdits=true}if(ek){ep.sel.shift=false}em=eo(el)!=bp}finally{ep.sel.shift=en;el.state.suppressEdits=false}return em}function ck(ek){var el=ek.state.keyMaps.slice(0);if(ek.options.extraKeys){el.push(ek.options.extraKeys)}el.push(ek.options.keyMap);return el}var W;function dB(ek,eq){var el=d5(ek.options.keyMap),eo=el.auto;clearTimeout(W);if(eo&&!c3(eq)){W=setTimeout(function(){if(d5(ek.options.keyMap)==el){ek.options.keyMap=(eo.call?eo.call(null,ek):eo);eh(ek)}},50)}var en=dK(eq,true),ep=false;if(!en){return false}var em=ck(ek);if(eq.shiftKey){ep=g("Shift-"+en,em,function(er){return d3(ek,er,true)})||g(en,em,function(er){if(typeof er=="string"?/^go[A-Z]/.test(er):er.motion){return d3(ek,er)}})}else{ep=g(en,em,function(er){return d3(ek,er)})}if(ep){bO(eq);k(ek);if(bx){eq.oldKeyCode=eq.keyCode;eq.keyCode=0}L(ek,"keyHandled",ek,en,eq)}return ep}function cP(ek,en,el){var em=g("'"+el+"'",ck(ek),function(eo){return d3(ek,eo,true)});if(em){bO(en);k(ek);L(ek,"keyHandled",ek,"'"+el+"'",en)}return em}var cf=null;function l(en){var ek=this;if(!ek.state.focused){bL(ek)}if(ao(ek,en)||ek.options.onKeyEvent&&ek.options.onKeyEvent(ek,V(en))){return}if(ct&&en.keyCode==27){en.returnValue=false}var el=en.keyCode;ek.doc.sel.shift=el==16||en.shiftKey;var em=dB(ek,en);if(dP){cf=em?el:null;if(!em&&el==88&&!b8&&(bk?en.metaKey:en.ctrlKey)){ek.replaceSelection("")}}}function bI(eo){var ek=this;if(ao(ek,eo)||ek.options.onKeyEvent&&ek.options.onKeyEvent(ek,V(eo))){return}var en=eo.keyCode,el=eo.charCode;if(dP&&en==cf){cf=null;bO(eo);return}if(((dP&&(!eo.which||eo.which<10))||aC)&&dB(ek,eo)){return}var em=String.fromCharCode(el==null?en:el);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!P(this)&&this.doc.mode.electricChars.indexOf(em)>-1){setTimeout(b2(ek,function(){K(ek,ek.doc.sel.to.line,"smart")}),75)}if(cP(ek,eo,em)){return}if(ct&&!bx){ek.display.inputHasSelection=null}t(ek)}function bL(ek){if(ek.options.readOnly=="nocursor"){return}if(!ek.state.focused){ae(ek,"focus",ek);ek.state.focused=true;if(ek.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){ek.display.wrapper.className+=" CodeMirror-focused"}if(!ek.curOp){dI(ek,true);if(b1){setTimeout(bH(dI,ek,true),0)}}}aM(ek);k(ek)}function aq(ek){if(ek.state.focused){ae(ek,"blur",ek);ek.state.focused=false;ek.display.wrapper.className=ek.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(ek.display.blinker);setTimeout(function(){if(!ek.state.focused){ek.doc.sel.shift=false}},150)}var dT;function aa(eu,ep){if(ao(eu,ep,"contextmenu")){return}var er=eu.display,el=eu.doc.sel;if(aB(er,ep)||cd(eu,ep)){return}var et=bA(eu,ep),ek=er.scroller.scrollTop;if(!et||dP){return}var eo=eu.options.resetSelectionOnContextMenu;if(eo&&(dW(el.from,el.to)||dy(et,el.from)||!dy(et,el.to))){b2(eu,bd)(eu.doc,et,et)}var eq=er.input.style.cssText;er.inputDiv.style.position="absolute";er.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(ep.clientY-5)+"px; left: "+(ep.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";c2(eu);dI(eu,true);if(dW(el.from,el.to)){er.input.value=er.prevInput=" "}function en(){if(er.input.selectionStart!=null){var ev=er.input.value="\u200b"+(dW(el.from,el.to)?"":er.input.value);er.prevInput="\u200b";er.input.selectionStart=1;er.input.selectionEnd=ev.length}}function es(){er.inputDiv.style.position="relative";er.input.style.cssText=eq;if(bx){er.scrollbarV.scrollTop=er.scroller.scrollTop=ek}aM(eu);if(er.input.selectionStart!=null){if(!ct||bx){en()}clearTimeout(dT);var ev=0,ew=function(){if(er.prevInput==" "&&er.input.selectionStart==0){b2(eu,c4.selectAll)(eu)}else{if(ev++<10){dT=setTimeout(ew,500)}else{dI(eu)}}};dT=setTimeout(ew,200)}}if(ct&&!bx){en()}if(bQ){cT(ep);var em=function(){cL(window,"mouseup",em);setTimeout(es,20)};bf(window,"mouseup",em)}else{setTimeout(es,50)}}var bY=y.changeEnd=function(ek){if(!ek.text){return ek.to}return H(ek.from.line+ek.text.length-1,dV(ek.text).length+(ek.text.length==1?ek.from.ch:0))};function c5(eo,eq,ep){if(!dy(eq.from,ep)){return dX(eo,ep)}var en=(eq.text.length-1)-(eq.to.line-eq.from.line);if(ep.line>eq.to.line+en){var em=ep.line-en,el=eo.first+eo.size-1;if(em>el){return H(el,dx(eo,el).text.length)}return dL(ep,dx(eo,em).text.length)}if(ep.line==eq.to.line+en){return dL(ep,dV(eq.text).length+(eq.text.length==1?eq.from.ch:0)+dx(eo,eq.to.line).text.length-eq.to.ch)}var ek=ep.line-eq.from.line;return dL(ep,eq.text[ek].length+(ek?0:eq.from.ch))}function dC(el,eo,em){if(em&&typeof em=="object"){return{anchor:c5(el,eo,em.anchor),head:c5(el,eo,em.head)}}if(em=="start"){return{anchor:eo.from,head:eo.from}}var ek=bY(eo);if(em=="around"){return{anchor:eo.from,head:ek}}if(em=="end"){return{anchor:ek,head:ek}}var en=function(er){if(dy(er,eo.from)){return er}if(!dy(eo.to,er)){return ek}var ep=er.line+eo.text.length-(eo.to.line-eo.from.line)-1,eq=er.ch;if(er.line==eo.to.line){eq+=ek.ch-eo.to.ch}return H(ep,eq)};return{anchor:en(el.sel.anchor),head:en(el.sel.head)}}function cy(el,en,em){var ek={canceled:false,from:en.from,to:en.to,text:en.text,origin:en.origin,cancel:function(){this.canceled=true}};if(em){ek.update=function(er,eq,ep,eo){if(er){this.from=dX(el,er)}if(eq){this.to=dX(el,eq)}if(ep){this.text=ep}if(eo!==undefined){this.origin=eo}}}ae(el,"beforeChange",el,ek);if(el.cm){ae(el.cm,"beforeChange",el.cm,ek)}if(ek.canceled){return null}return{from:ek.from,to:ek.to,text:ek.text,origin:ek.origin}}function aG(en,ep,eo,em){if(en.cm){if(!en.cm.curOp){return b2(en.cm,aG)(en,ep,eo,em)}if(en.cm.state.suppressEdits){return}}if(dD(en,"beforeChange")||en.cm&&dD(en.cm,"beforeChange")){ep=cy(en,ep,true);if(!ep){return}}var el=ee&&!em&&bP(en,ep.from,ep.to);if(el){for(var ek=el.length-1;ek>=1;--ek){am(en,{from:el[ek].from,to:el[ek].to,text:[""]})}if(el.length){am(en,{from:el[0].from,to:el[0].to,text:ep.text},eo)}}else{am(en,ep,eo)}}function am(em,eo,en){if(eo.text.length==1&&eo.text[0]==""&&dW(eo.from,eo.to)){return}var el=dC(em,eo,en);c9(em,eo,el,em.cm?em.cm.curOp.id:NaN);cK(em,eo,el,cQ(em,eo));var ek=[];cF(em,function(eq,ep){if(!ep&&ce(ek,eq.history)==-1){cs(eq.history,eo);ek.push(eq.history)}cK(eq,eo,null,cQ(eq,eo))})}function bm(et,eq){if(et.cm&&et.cm.state.suppressEdits){return}var ep=et.history;var el=(eq=="undo"?ep.done:ep.undone).pop();if(!el){return}var er={changes:[],anchorBefore:el.anchorAfter,headBefore:el.headAfter,anchorAfter:el.anchorBefore,headAfter:el.headBefore,generation:ep.generation};(eq=="undo"?ep.undone:ep.done).push(er);ep.generation=el.generation||++ep.maxGeneration;var em=dD(et,"beforeChange")||et.cm&&dD(et.cm,"beforeChange");for(var en=el.changes.length-1;en>=0;--en){var es=el.changes[en];es.origin=eq;if(em&&!cy(et,es,false)){(eq=="undo"?ep.done:ep.undone).length=0;return}er.changes.push(cl(et,es));var ek=en?dC(et,es,null):{anchor:el.anchorBefore,head:el.headBefore};cK(et,es,ek,cH(et,es));var eo=[];cF(et,function(ev,eu){if(!eu&&ce(eo,ev.history)==-1){cs(ev.history,es);eo.push(ev.history)}cK(ev,es,null,cH(ev,es))})}}function dF(ek,em){function el(en){return H(en.line+em,en.ch)}ek.first+=em;if(ek.cm){N(ek.cm,ek.first,ek.first,em)}ek.sel.head=el(ek.sel.head);ek.sel.anchor=el(ek.sel.anchor);ek.sel.from=el(ek.sel.from);ek.sel.to=el(ek.sel.to)}function cK(eo,ep,en,el){if(eo.cm&&!eo.cm.curOp){return b2(eo.cm,cK)(eo,ep,en,el)}if(ep.to.line<eo.first){dF(eo,ep.text.length-1-(ep.to.line-ep.from.line));return}if(ep.from.line>eo.lastLine()){return}if(ep.from.line<eo.first){var ek=ep.text.length-1-(eo.first-ep.from.line);dF(eo,ek);ep={from:H(eo.first,0),to:H(ep.to.line+ek,ep.to.ch),text:[dV(ep.text)],origin:ep.origin}}var em=eo.lastLine();if(ep.to.line>em){ep={from:ep.from,to:H(em,dx(eo,em).text.length),text:[ep.text[0]],origin:ep.origin}}ep.removed=d9(eo,ep.from,ep.to);if(!en){en=dC(eo,ep,null)}if(eo.cm){ai(eo.cm,ep,el,en)}else{dQ(eo,ep,el,en)}}function ai(eu,eq,en,ek){var et=eu.doc,ep=eu.display,er=eq.from,es=eq.to;var el=false,em=er.line;if(!eu.options.lineWrapping){em=a8(s(et,dx(et,er.line)));et.iter(em,es.line+1,function(ex){if(ex==ep.maxLine){el=true;return true}})}if(!dy(et.sel.head,eq.from)&&!dy(eq.to,et.sel.head)){eu.curOp.cursorActivity=true}dQ(et,eq,en,ek,aE(eu));if(!eu.options.lineWrapping){et.iter(em,er.line+eq.text.length,function(ey){var ex=cR(et,ey);if(ex>ep.maxLineLength){ep.maxLine=ey;ep.maxLineLength=ex;ep.maxLineChanged=true;el=false}});if(el){eu.curOp.updateMaxLine=true}}et.frontier=Math.min(et.frontier,er.line);cM(eu,400);var ew=eq.text.length-(es.line-er.line)-1;N(eu,er.line,es.line+1,ew);if(dD(eu,"change")){var eo={from:er,to:es,text:eq.text,removed:eq.removed,origin:eq.origin};if(eu.curOp.textChanged){for(var ev=eu.curOp.textChanged;ev.next;ev=ev.next){}ev.next=eo}else{eu.curOp.textChanged=eo}}}function aw(en,em,ep,eo,ek){if(!eo){eo=ep}if(dy(eo,ep)){var el=eo;eo=ep;ep=el}if(typeof em=="string"){em=av(em)}aG(en,{from:ep,to:eo,text:em,origin:ek},null)}function H(ek,el){if(!(this instanceof H)){return new H(ek,el)}this.line=ek;this.ch=el}y.Pos=H;function dW(el,ek){return el.line==ek.line&&el.ch==ek.ch}function dy(el,ek){return el.line<ek.line||(el.line==ek.line&&el.ch<ek.ch)}function bv(ek){return H(ek.line,ek.ch)}function b4(ek,el){return Math.max(ek.first,Math.min(el,ek.first+ek.size-1))}function dX(el,em){if(em.line<el.first){return H(el.first,0)}var ek=el.first+el.size-1;if(em.line>ek){return H(ek,dx(el,ek).text.length)}return dL(em,dx(el,em.line).text.length)}function dL(em,el){var ek=em.ch;if(ek==null||ek>el){return H(em.line,el)}else{if(ek<0){return H(em.line,0)}else{return em}}}function bn(el,ek){return ek>=el.first&&ek<el.first+el.size}function d4(eo,ep,ek,el){if(eo.sel.shift||eo.sel.extend){var en=eo.sel.anchor;if(ek){var em=dy(ep,en);if(em!=dy(ek,en)){en=ep;ep=ek}else{if(em!=dy(ep,ek)){ep=ek}}}bd(eo,en,ep,el)}else{bd(eo,ep,ek||ep,el)}if(eo.cm){eo.cm.curOp.userSelChange=true}}function c(en,ek,el){var em={anchor:ek,head:el};ae(en,"beforeSelectionChange",en,em);if(en.cm){ae(en.cm,"beforeSelectionChange",en.cm,em)}em.anchor=dX(en,em.anchor);em.head=dX(en,em.head);return em}function bd(er,eo,ep,em,el){if(!el&&dD(er,"beforeSelectionChange")||er.cm&&dD(er.cm,"beforeSelectionChange")){var en=c(er,eo,ep);ep=en.head;eo=en.anchor}var eq=er.sel;eq.goalColumn=null;if(em==null){em=dy(ep,eq.head)?-1:1}if(el||!dW(eo,eq.anchor)){eo=be(er,eo,em,el!="push")}if(el||!dW(ep,eq.head)){ep=be(er,ep,em,el!="push")}if(dW(eq.anchor,eo)&&dW(eq.head,ep)){return}eq.anchor=eo;eq.head=ep;var ek=dy(ep,eo);eq.from=ek?ep:eo;eq.to=ek?eo:ep;if(er.cm){er.cm.curOp.updateInput=er.cm.curOp.selectionChanged=er.cm.curOp.cursorActivity=true}L(er,"cursorActivity",er)}function cY(ek){bd(ek.doc,ek.doc.sel.from,ek.doc.sel.to,null,"push")}function be(et,es,ep,eq){var eu=false,em=es;var en=ep||1;et.cantEdit=false;search:for(;;){var ev=dx(et,em.line);if(ev.markedSpans){for(var eo=0;eo<ev.markedSpans.length;++eo){var ek=ev.markedSpans[eo],el=ek.marker;if((ek.from==null||(el.inclusiveLeft?ek.from<=em.ch:ek.from<em.ch))&&(ek.to==null||(el.inclusiveRight?ek.to>=em.ch:ek.to>em.ch))){if(eq){ae(el,"beforeCursorEnter");if(el.explicitlyCleared){if(!ev.markedSpans){break}else{--eo;continue}}}if(!el.atomic){continue}var er=el.find()[en<0?"from":"to"];if(dW(er,em)){er.ch+=en;if(er.ch<0){if(er.line>et.first){er=dX(et,H(er.line-1))}else{er=null}}else{if(er.ch>ev.text.length){if(er.line<et.first+et.size-1){er=H(er.line+1,0)}else{er=null}}}if(!er){if(eu){if(!eq){return be(et,es,ep,true)}et.cantEdit=true;return H(et.first,0)}eu=true;er=es;en=-en}}em=er;continue search}}}return em}}function ab(el){var eo=u(el,el.doc.sel.head,null,el.options.cursorScrollMargin);if(!el.state.focused){return}var ep=el.display,em=ak(ep.sizer),ek=null;if(eo.top+em.top<0){ek=true}else{if(eo.bottom+em.top>(window.innerHeight||document.documentElement.clientHeight)){ek=false}}if(ek!=null&&!dM){var en=ep.cursor.style.display=="none";if(en){ep.cursor.style.display="";ep.cursor.style.left=eo.left+"px";ep.cursor.style.top=(eo.top-ep.viewOffset)+"px"}ep.cursor.scrollIntoView(ek);if(en){ep.cursor.style.display="none"}}}function u(et,er,eo,en){if(en==null){en=0}for(;;){var ep=false,es=cz(et,er);var ek=!eo||eo==er?es:cz(et,eo);var em=x(et,Math.min(es.left,ek.left),Math.min(es.top,ek.top)-en,Math.max(es.left,ek.left),Math.max(es.bottom,ek.bottom)+en);var eq=et.doc.scrollTop,el=et.doc.scrollLeft;if(em.scrollTop!=null){C(et,em.scrollTop);if(Math.abs(et.doc.scrollTop-eq)>1){ep=true}}if(em.scrollLeft!=null){aZ(et,em.scrollLeft);if(Math.abs(et.doc.scrollLeft-el)>1){ep=true}}if(!ep){return es}}}function w(ek,em,eo,el,en){var ep=x(ek,em,eo,el,en);if(ep.scrollTop!=null){C(ek,ep.scrollTop)}if(ep.scrollLeft!=null){aZ(ek,ep.scrollLeft)}}function x(eq,ey,en,ex,em){var ev=eq.display,eu=at(eq.display);if(en<0){en=0}var el=ev.scroller.clientHeight-aJ,et=ev.scroller.scrollTop,es={};var eA=eq.doc.height+a3(ev);var eB=en<eu,ew=em>eA-eu;if(en<et){es.scrollTop=eB?0:en}else{if(em>et+el){var er=Math.min(en,(ew?eA:em)-el);if(er!=et){es.scrollTop=er}}}var ep=ev.scroller.clientWidth-aJ,ek=ev.scroller.scrollLeft;ey+=ev.gutters.offsetWidth;ex+=ev.gutters.offsetWidth;var eo=ev.gutters.offsetWidth;var ez=ey<eo+10;if(ey<ek+eo||ez){if(ez){ey=0}es.scrollLeft=Math.max(0,ey-10-eo)}else{if(ex>ep+ek-3){es.scrollLeft=ex+10-ep}}return es}function v(ek,em,el){ek.curOp.updateScrollPos={scrollLeft:em==null?ek.doc.scrollLeft:em,scrollTop:el==null?ek.doc.scrollTop:el}}function bT(el,en,em){var eo=el.curOp.updateScrollPos||(el.curOp.updateScrollPos={scrollLeft:el.doc.scrollLeft,scrollTop:el.doc.scrollTop});var ek=el.display.scroller;eo.scrollTop=Math.max(0,Math.min(ek.scrollHeight-ek.clientHeight,eo.scrollTop+em));eo.scrollLeft=Math.max(0,Math.min(ek.scrollWidth-ek.clientWidth,eo.scrollLeft+en))}function K(ew,en,ev,em){var eu=ew.doc;if(ev==null){ev="add"}if(ev=="smart"){if(!ew.doc.mode.indent){ev="prev"}else{var el=cp(ew,en)}}var eq=ew.options.tabSize;var ex=dx(eu,en),ep=bb(ex.text,null,eq);var ek=ex.text.match(/^\s*/)[0],es;if(ev=="smart"){es=ew.doc.mode.indent(el,ex.text.slice(ek.length),ex.text);if(es==bp){if(!em){return}ev="prev"}}if(ev=="prev"){if(en>eu.first){es=bb(dx(eu,en-1).text,null,eq)}else{es=0}}else{if(ev=="add"){es=ep+ew.options.indentUnit}else{if(ev=="subtract"){es=ep-ew.options.indentUnit}else{if(typeof ev=="number"){es=ep+ev}}}}es=Math.max(0,es);var et="",er=0;if(ew.options.indentWithTabs){for(var eo=Math.floor(es/eq);eo;--eo){er+=eq;et+="\t"}}if(er<es){et+=bC(es-er)}if(et!=ek){aw(ew.doc,et,H(en,0),H(en,ek.length),"+input")}ex.stateAfter=null}function c0(ek,em,ep){var eo=em,el=em,en=ek.doc;if(typeof em=="number"){el=dx(en,b4(en,em))}else{eo=a8(em)}if(eo==null){return null}if(ep(el,eo)){N(ek,eo,eo+1)}else{return null}return el}function aU(eB,en,ev,eu,ep){var es=en.line,et=en.ch,eA=ev;var ek=dx(eB,es);var ey=true;function ez(){var eC=es+ev;if(eC<eB.first||eC>=eB.first+eB.size){return(ey=false)}es=eC;return ek=dx(eB,eC)}function ex(eD){var eC=(ep?p:O)(ek,et,ev,true);if(eC==null){if(!eD&&ez()){if(ep){et=(ev<0?bX:bN)(ek)}else{et=ev<0?ek.text.length:0}}else{return(ey=false)}}else{et=eC}return true}if(eu=="char"){ex()}else{if(eu=="column"){ex(true)}else{if(eu=="word"||eu=="group"){var ew=null,eq=eu=="group";for(var eo=true;;eo=false){if(ev<0&&!ex(!eo)){break}var el=ek.text.charAt(et)||"\n";var em=bK(el)?"w":!eq?null:/\s/.test(el)?null:"p";if(ew&&ew!=em){if(ev<0){ev=1;ex()}break}if(em){ew=em}if(ev>0&&!ex(!eo)){break}}}}}var er=be(eB,H(es,et),eA,true);if(!ey){er.hitSide=true}return er}function aQ(es,en,ek,er){var eq=es.doc,ep=en.left,eo;if(er=="page"){var em=Math.min(es.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);eo=en.top+ek*(em-(ek<0?1.5:0.5)*at(es.display))}else{if(er=="line"){eo=ek>0?en.bottom+3:en.top-3}}for(;;){var el=d1(es,ep,eo);if(!el.outside){break}if(ek<0?eo<=0:eo>=eq.height){el.hitSide=true;break}eo+=ek*5}return el}function Y(en,ep){var eo=ep.ch,em=ep.ch;if(en){if((ep.xRel<0||em==en.length)&&eo){--eo}else{++em}var el=en.charAt(eo);var ek=bK(el)?bK:/\s/.test(el)?function(eq){return/\s/.test(eq)}:function(eq){return !/\s/.test(eq)&&!bK(eq)};while(eo>0&&ek(en.charAt(eo-1))){--eo}while(em<en.length&&ek(en.charAt(em))){++em}}return{from:H(ep.line,eo),to:H(ep.line,em)}}function aL(ek,el){d4(ek.doc,H(el,0),dX(ek.doc,H(el+1,0)))}y.prototype={constructor:y,focus:function(){window.focus();c2(this);bL(this);t(this)},setOption:function(em,en){var el=this.options,ek=el[em];if(el[em]==en&&em!="mode"){return}el[em]=en;if(aF.hasOwnProperty(em)){b2(this,aF[em])(this,en,ek)}},getOption:function(ek){return this.options[ek]},getDoc:function(){return this.doc},addKeyMap:function(el,ek){this.state.keyMaps[ek?"push":"unshift"](el)},removeKeyMap:function(el){var em=this.state.keyMaps;for(var ek=0;ek<em.length;++ek){if(em[ek]==el||(typeof em[ek]!="string"&&em[ek].name==el)){em.splice(ek,1);return true}}},addOverlay:b2(null,function(ek,el){var em=ek.token?ek:y.getMode(this.options,ek);if(em.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:em,modeSpec:ek,opaque:el&&el.opaque});this.state.modeGen++;N(this)}),removeOverlay:b2(null,function(ek){var em=this.state.overlays;for(var el=0;el<em.length;++el){var en=em[el].modeSpec;if(en==ek||typeof ek=="string"&&en.name==ek){em.splice(el,1);this.state.modeGen++;N(this);return}}}),indentLine:b2(null,function(em,ek,el){if(typeof ek!="string"&&typeof ek!="number"){if(ek==null){ek=this.options.smartIndent?"smart":"prev"}else{ek=ek?"add":"subtract"}}if(bn(this.doc,em)){K(this,em,ek,el)}}),indentSelection:b2(null,function(el){var em=this.doc.sel;if(dW(em.from,em.to)){return K(this,em.from.line,el)}var en=em.to.line-(em.to.ch?0:1);for(var ek=em.from.line;ek<=en;++ek){K(this,ek,el)}}),getTokenAt:function(er,el){var eo=this.doc;er=dX(eo,er);var en=cp(this,er.line,el),eq=this.doc.mode;var ek=dx(eo,er.line);var ep=new dh(ek.text,this.options.tabSize);while(ep.pos<er.ch&&!ep.eol()){ep.start=ep.pos;var em=eq.token(ep,en)}return{start:ep.start,end:ep.pos,string:ep.current(),className:em||null,type:em||null,state:en}},getTokenTypeAt:function(ep){ep=dX(this.doc,ep);var em=b7(this,dx(this.doc,ep.line));var en=0,eo=(em.length-1)/2,el=ep.ch;if(el==0){return em[2]}for(;;){var ek=(en+eo)>>1;if((ek?em[ek*2-1]:0)>=el){eo=ek}else{if(em[ek*2+1]<el){en=ek+1}else{return em[ek*2+2]}}}},getModeAt:function(el){var ek=this.doc.mode;if(!ek.innerMode){return ek}return y.innerMode(ek,this.getTokenAt(el).state).mode},getHelper:function(en,el){if(!dG.hasOwnProperty(el)){return}var ek=dG[el],em=this.getModeAt(en);return em[el]&&ek[em[el]]||em.helperType&&ek[em.helperType]||ek[em.name]},getStateAfter:function(el,ek){var em=this.doc;el=b4(em,el==null?em.first+em.size-1:el);return cp(this,el+1,ek)},cursorCoords:function(en,el){var em,ek=this.doc.sel;if(en==null){em=ek.head}else{if(typeof en=="object"){em=dX(this.doc,en)}else{em=en?ek.from:ek.to}}return cz(this,em,el||"page")},charCoords:function(el,ek){return bS(this,dX(this.doc,el),ek||"page")},coordsChar:function(ek,el){ek=eg(this,ek,el||"page");return d1(this,ek.left,ek.top)},lineAtHeight:function(ek,el){ek=eg(this,{top:ek,left:0},el||"page").top;return a1(this.doc,ek+this.display.viewOffset)},heightAtLine:function(el,eo){var ek=false,en=this.doc.first+this.doc.size-1;if(el<this.doc.first){el=this.doc.first}else{if(el>en){el=en;ek=true}}var em=dx(this.doc,el);return de(this,dx(this.doc,el),{top:0,left:0},eo||"page").top+(ek?em.height:0)},defaultTextHeight:function(){return at(this.display)},defaultCharWidth:function(){return cr(this.display)},setGutterMarker:b2(null,function(ek,el,em){return c0(this,ek,function(en){var eo=en.gutterMarkers||(en.gutterMarkers={});eo[el]=em;if(!em&&di(eo)){en.gutterMarkers=null}return true})}),clearGutter:b2(null,function(em){var ek=this,en=ek.doc,el=en.first;en.iter(function(eo){if(eo.gutterMarkers&&eo.gutterMarkers[em]){eo.gutterMarkers[em]=null;N(ek,el,el+1);if(di(eo.gutterMarkers)){eo.gutterMarkers=null}}++el})}),addLineClass:b2(null,function(em,el,ek){return c0(this,em,function(en){var eo=el=="text"?"textClass":el=="background"?"bgClass":"wrapClass";if(!en[eo]){en[eo]=ek}else{if(new RegExp("(?:^|\\s)"+ek+"(?:$|\\s)").test(en[eo])){return false}else{en[eo]+=" "+ek}}return true})}),removeLineClass:b2(null,function(em,el,ek){return c0(this,em,function(eo){var er=el=="text"?"textClass":el=="background"?"bgClass":"wrapClass";var eq=eo[er];if(!eq){return false}else{if(ek==null){eo[er]=null}else{var ep=eq.match(new RegExp("(?:^|\\s+)"+ek+"(?:$|\\s+)"));if(!ep){return false}var en=ep.index+ep[0].length;eo[er]=eq.slice(0,ep.index)+(!ep.index||en==eq.length?"":" ")+eq.slice(en)||null}}return true})}),addLineWidget:b2(null,function(em,el,ek){return a2(this,em,el,ek)}),removeLineWidget:function(ek){ek.clear()},lineInfo:function(ek){if(typeof ek=="number"){if(!bn(this.doc,ek)){return null}var el=ek;ek=dx(this.doc,ek);if(!ek){return null}}else{var el=a8(ek);if(el==null){return null}}return{line:el,handle:ek,text:ek.text,gutterMarkers:ek.gutterMarkers,textClass:ek.textClass,bgClass:ek.bgClass,wrapClass:ek.wrapClass,widgets:ek.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(ep,em,er,en,et){var eo=this.display;ep=cz(this,dX(this.doc,ep));var eq=ep.bottom,el=ep.left;em.style.position="absolute";eo.sizer.appendChild(em);if(en=="over"){eq=ep.top}else{if(en=="above"||en=="near"){var ek=Math.max(eo.wrapper.clientHeight,this.doc.height),es=Math.max(eo.sizer.clientWidth,eo.lineSpace.clientWidth);if((en=="above"||ep.bottom+em.offsetHeight>ek)&&ep.top>em.offsetHeight){eq=ep.top-em.offsetHeight}else{if(ep.bottom+em.offsetHeight<=ek){eq=ep.bottom}}if(el+em.offsetWidth>es){el=es-em.offsetWidth}}}em.style.top=eq+"px";em.style.left=em.style.right="";if(et=="right"){el=eo.sizer.clientWidth-em.offsetWidth;em.style.right="0px"}else{if(et=="left"){el=0}else{if(et=="middle"){el=(eo.sizer.clientWidth-em.offsetWidth)/2}}em.style.left=el+"px"}if(er){w(this,el,eq,el+em.offsetWidth,eq+em.offsetHeight)}},triggerOnKeyDown:b2(null,l),execCommand:function(ek){return c4[ek](this)},findPosH:function(eq,en,eo,el){var ek=1;if(en<0){ek=-1;en=-en}for(var em=0,ep=dX(this.doc,eq);em<en;++em){ep=aU(this.doc,ep,ek,eo,el);if(ep.hitSide){break}}return ep},moveH:b2(null,function(ek,el){var em=this.doc.sel,en;if(em.shift||em.extend||dW(em.from,em.to)){en=aU(this.doc,em.head,ek,el,this.options.rtlMoveVisually)}else{en=ek<0?em.from:em.to}d4(this.doc,en,en,ek)}),deleteH:b2(null,function(ek,el){var em=this.doc.sel;if(!dW(em.from,em.to)){aw(this.doc,"",em.from,em.to,"+delete")}else{aw(this.doc,"",em.from,aU(this.doc,em.head,ek,el,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(ep,em,eq,es){var ek=1,eo=es;if(em<0){ek=-1;em=-em}for(var el=0,er=dX(this.doc,ep);el<em;++el){var en=cz(this,er,"div");if(eo==null){eo=en.left}else{en.left=eo}er=aQ(this,en,ek,eq);if(er.hitSide){break}}return er},moveV:b2(null,function(ek,el){var em=this.doc.sel;var eo=cz(this,em.head,"div");if(em.goalColumn!=null){eo.left=em.goalColumn}var en=aQ(this,eo,ek,el);if(el=="page"){bT(this,0,bS(this,en,"div").top-eo.top)}d4(this.doc,en,en,ek);em.goalColumn=eo.left}),toggleOverwrite:function(ek){if(ek!=null&&ek==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:b2(null,function(ek,el){v(this,ek,el)}),getScrollInfo:function(){var ek=this.display.scroller,el=aJ;return{left:ek.scrollLeft,top:ek.scrollTop,height:ek.scrollHeight-el,width:ek.scrollWidth-el,clientHeight:ek.clientHeight-el,clientWidth:ek.clientWidth-el}},scrollIntoView:b2(null,function(el,en){if(el==null){el={from:this.doc.sel.head,to:null}}else{if(typeof el=="number"){el={from:H(el,0),to:null}}else{if(el.from==null){el={from:el,to:null}}}}if(!el.to){el.to=el.from}if(!en){en=0}var em=el;if(el.from.line!=null){this.curOp.scrollToPos={from:el.from,to:el.to,margin:en};em={from:cz(this,el.from),to:cz(this,el.to)}}var ek=x(this,Math.min(em.from.left,em.to.left),Math.min(em.from.top,em.to.top)-en,Math.max(em.from.right,em.to.right),Math.max(em.from.bottom,em.to.bottom)+en);v(this,ek.scrollLeft,ek.scrollTop)}),setSize:b2(null,function(em,ek){function el(en){return typeof en=="number"||/^\d+$/.test(String(en))?en+"px":en}if(em!=null){this.display.wrapper.style.width=el(em)}if(ek!=null){this.display.wrapper.style.height=el(ek)}if(this.options.lineWrapping){this.display.measureLineCache.length=this.display.measureLineCachePos=0}this.curOp.forceUpdate=true}),operation:function(ek){return bU(this,ek)},refresh:b2(null,function(){var ek=this.display.cachedTextHeight==null;Q(this);v(this,this.doc.scrollLeft,this.doc.scrollTop);N(this);if(ek){I(this)}}),swapDoc:b2(null,function(el){var ek=this.doc;ek.cm=null;cI(this,el);Q(this);dI(this,true);v(this,el.scrollLeft,el.scrollTop);L(this,"swapDoc",this,ek);return ek}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};aV(y);var aF=y.optionHandlers={};var dq=y.defaults={};function n(ek,en,em,el){y.defaults[ek]=en;if(em){aF[ek]=el?function(eo,eq,ep){if(ep!=bq){em(eo,eq,ep)}}:em}}var bq=y.Init={toString:function(){return"CodeMirror.Init"}};n("value","",function(ek,el){ek.setValue(el)},true);n("mode",null,function(ek,el){ek.doc.modeOption=el;aR(ek)},true);n("indentUnit",2,aR,true);n("indentWithTabs",false);n("smartIndent",true);n("tabSize",4,function(ek){aR(ek);Q(ek);N(ek)},true);n("electricChars",true);n("rtlMoveVisually",!al);n("theme","default",function(ek){bV(ek);cm(ek)},true);n("keyMap","default",eh);n("extraKeys",null);n("onKeyEvent",null);n("onDragEvent",null);n("lineWrapping",false,da,true);n("gutters",[],function(ek){bs(ek.options);cm(ek)},true);n("fixedGutter",true,function(ek,el){ek.display.gutters.style.left=el?cB(ek.display)+"px":"0";ek.refresh()},true);n("coverGutterNextToScrollbar",false,dl,true);n("lineNumbers",false,function(ek){bs(ek.options);cm(ek)},true);n("firstLineNumber",1,cm,true);n("lineNumberFormatter",function(ek){return ek},cm,true);n("showCursorWhenSelecting",false,aY,true);n("resetSelectionOnContextMenu",true);n("readOnly",false,function(ek,el){if(el=="nocursor"){aq(ek);ek.display.input.blur()}else{if(!el){dI(ek,true)}}});n("dragDrop",true);n("cursorBlinkRate",530);n("cursorScrollMargin",0);n("cursorHeight",1);n("workTime",100);n("workDelay",100);n("flattenSpans",true);n("pollInterval",100);n("undoDepth",40,function(ek,el){ek.doc.history.undoDepth=el});n("historyEventDelay",500);n("viewportMargin",10,function(ek){ek.refresh()},true);n("maxHighlightLength",10000,function(ek){aR(ek);ek.refresh()},true);n("crudeMeasuringFrom",10000);n("moveInputWithCursor",true,function(ek,el){if(!el){ek.display.inputDiv.style.top=ek.display.inputDiv.style.left=0}});n("tabindex",null,function(ek,el){ek.display.input.tabIndex=el||""});n("autofocus",null);var cj=y.modes={},ap=y.mimeModes={};y.defineMode=function(ek,em){if(!y.defaults.mode&&ek!="null"){y.defaults.mode=ek}if(arguments.length>2){em.dependencies=[];for(var el=2;el<arguments.length;++el){em.dependencies.push(arguments[el])}}cj[ek]=em};y.defineMIME=function(el,ek){ap[el]=ek};y.resolveMode=function(ek){if(typeof ek=="string"&&ap.hasOwnProperty(ek)){ek=ap[ek]}else{if(ek&&typeof ek.name=="string"&&ap.hasOwnProperty(ek.name)){var el=ap[ek.name];ek=bw(el,ek);ek.name=el.name}else{if(typeof ek=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(ek)){return y.resolveMode("application/xml")}}}if(typeof ek=="string"){return{name:ek}}else{return ek||{name:"null"}}};y.getMode=function(el,ek){var ek=y.resolveMode(ek);var en=cj[ek.name];if(!en){return y.getMode(el,"text/plain")}var eo=en(el,ek);if(ch.hasOwnProperty(ek.name)){var em=ch[ek.name];for(var ep in em){if(!em.hasOwnProperty(ep)){continue}if(eo.hasOwnProperty(ep)){eo["_"+ep]=eo[ep]}eo[ep]=em[ep]}}eo.name=ek.name;return eo};y.defineMode("null",function(){return{token:function(ek){ek.skipToEnd()}}});y.defineMIME("text/plain","null");var ch=y.modeExtensions={};y.extendMode=function(em,el){var ek=ch.hasOwnProperty(em)?ch[em]:(ch[em]={});aj(el,ek)};y.defineExtension=function(ek,el){y.prototype[ek]=el};y.defineDocExtension=function(ek,el){X.prototype[ek]=el};y.defineOption=n;var az=[];y.defineInitHook=function(ek){az.push(ek)};var dG=y.helpers={};y.registerHelper=function(el,ek,em){if(!dG.hasOwnProperty(el)){dG[el]=y[el]={}}dG[el][ek]=em};y.isWordChar=bK;function bi(en,ek){if(ek===true){return ek}if(en.copyState){return en.copyState(ek)}var em={};for(var eo in ek){var el=ek[eo];if(el instanceof Array){el=el.concat([])}em[eo]=el}return em}y.copyState=bi;function bh(em,el,ek){return em.startState?em.startState(el,ek):true}y.startState=bh;y.innerMode=function(em,ek){while(em.innerMode){var el=em.innerMode(ek);if(!el||el.mode==em){break}ek=el.state;em=el.mode}return el||{mode:em,state:ek}};var c4=y.commands={selectAll:function(ek){ek.setSelection(H(ek.firstLine(),0),H(ek.lastLine()))},killLine:function(ek){var en=ek.getCursor(true),em=ek.getCursor(false),el=!dW(en,em);if(!el&&ek.getLine(en.line).length==en.ch){ek.replaceRange("",en,H(en.line+1,0),"+delete")}else{ek.replaceRange("",en,el?em:H(en.line),"+delete")}},deleteLine:function(ek){var el=ek.getCursor().line;ek.replaceRange("",H(el,0),H(el),"+delete")},delLineLeft:function(ek){var el=ek.getCursor();ek.replaceRange("",H(el.line,0),el,"+delete")},undo:function(ek){ek.undo()},redo:function(ek){ek.redo()},goDocStart:function(ek){ek.extendSelection(H(ek.firstLine(),0))},goDocEnd:function(ek){ek.extendSelection(H(ek.lastLine()))},goLineStart:function(ek){ek.extendSelection(aT(ek,ek.getCursor().line))},goLineStartSmart:function(el){var ep=el.getCursor(),eq=aT(el,ep.line);var em=el.getLineHandle(eq.line);var ek=a(em);if(!ek||ek[0].level==0){var eo=Math.max(0,em.text.search(/\S/));var en=ep.line==eq.line&&ep.ch<=eo&&ep.ch;el.extendSelection(H(eq.line,en?0:eo))}else{el.extendSelection(eq)}},goLineEnd:function(ek){ek.extendSelection(cx(ek,ek.getCursor().line))},goLineRight:function(ek){var el=ek.charCoords(ek.getCursor(),"div").top+5;ek.extendSelection(ek.coordsChar({left:ek.display.lineDiv.offsetWidth+100,top:el},"div"))},goLineLeft:function(ek){var el=ek.charCoords(ek.getCursor(),"div").top+5;ek.extendSelection(ek.coordsChar({left:0,top:el},"div"))},goLineUp:function(ek){ek.moveV(-1,"line")},goLineDown:function(ek){ek.moveV(1,"line")},goPageUp:function(ek){ek.moveV(-1,"page")},goPageDown:function(ek){ek.moveV(1,"page")},goCharLeft:function(ek){ek.moveH(-1,"char")},goCharRight:function(ek){ek.moveH(1,"char")},goColumnLeft:function(ek){ek.moveH(-1,"column")},goColumnRight:function(ek){ek.moveH(1,"column")},goWordLeft:function(ek){ek.moveH(-1,"word")},goGroupRight:function(ek){ek.moveH(1,"group")},goGroupLeft:function(ek){ek.moveH(-1,"group")},goWordRight:function(ek){ek.moveH(1,"word")},delCharBefore:function(ek){ek.deleteH(-1,"char")},delCharAfter:function(ek){ek.deleteH(1,"char")},delWordBefore:function(ek){ek.deleteH(-1,"word")},delWordAfter:function(ek){ek.deleteH(1,"word")},delGroupBefore:function(ek){ek.deleteH(-1,"group")},delGroupAfter:function(ek){ek.deleteH(1,"group")},indentAuto:function(ek){ek.indentSelection("smart")},indentMore:function(ek){ek.indentSelection("add")},indentLess:function(ek){ek.indentSelection("subtract")},insertTab:function(ek){ek.replaceSelection("\t","end","+input")},defaultTab:function(ek){if(ek.somethingSelected()){ek.indentSelection("add")}else{ek.replaceSelection("\t","end","+input")}},transposeChars:function(ek){var em=ek.getCursor(),el=ek.getLine(em.line);if(em.ch>0&&em.ch<el.length-1){ek.replaceRange(el.charAt(em.ch)+el.charAt(em.ch-1),H(em.line,em.ch-1),H(em.line,em.ch+1))}},newlineAndIndent:function(ek){b2(ek,function(){ek.replaceSelection("\n","end","+input");ek.indentLine(ek.getCursor().line,null,true)})()},toggleOverwrite:function(ek){ek.toggleOverwrite()}};var du=y.keyMap={};du.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};du.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};du.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]};du["default"]=bk?du.macDefault:du.pcDefault;du.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function d5(ek){if(typeof ek=="string"){return du[ek]}else{return ek}}function g(el,ep,en){function eo(ev){ev=d5(ev);var et=ev[el];if(et===false){return"stop"}if(et!=null&&en(et)){return true}if(ev.nofallthrough){return"stop"}var es=ev.fallthrough;if(es==null){return false}if(Object.prototype.toString.call(es)!="[object Array]"){return eo(es)}for(var er=0,eu=es.length;er<eu;++er){var eq=eo(es[er]);if(eq){return eq}}return false}for(var em=0;em<ep.length;++em){var ek=eo(ep[em]);if(ek){return ek!="stop"}}}function c3(el){var ek=dz[el.keyCode];return ek=="Ctrl"||ek=="Alt"||ek=="Shift"||ek=="Mod"}function dK(el,em){if(dP&&el.keyCode==34&&el["char"]){return false}var ek=dz[el.keyCode];if(ek==null||el.altGraphKey){return false}if(el.altKey){ek="Alt-"+ek}if(ba?el.metaKey:el.ctrlKey){ek="Ctrl-"+ek}if(ba?el.ctrlKey:el.metaKey){ek="Cmd-"+ek}if(!em&&el.shiftKey){ek="Shift-"+ek}return ek}y.lookupKey=g;y.isModifierKey=c3;y.keyName=dK;y.fromTextArea=function(er,es){if(!es){es={}}es.value=er.value;if(!es.tabindex&&er.tabindex){es.tabindex=er.tabindex}if(!es.placeholder&&er.placeholder){es.placeholder=er.placeholder}if(es.autofocus==null){var ek=document.body;try{ek=document.activeElement}catch(em){}es.autofocus=ek==er||er.getAttribute("autofocus")!=null&&ek==document.body}function eo(){er.value=eq.getValue()}if(er.form){bf(er.form,"submit",eo);if(!es.leaveSubmitMethodAlone){var el=er.form,ep=el.submit;try{var en=el.submit=function(){eo();el.submit=ep;el.submit();el.submit=en}}catch(em){}}}er.style.display="none";var eq=y(function(et){er.parentNode.insertBefore(et,er.nextSibling)},es);eq.save=eo;eq.getTextArea=function(){return er};eq.toTextArea=function(){eo();er.parentNode.removeChild(eq.getWrapperElement());er.style.display="";if(er.form){cL(er.form,"submit",eo);if(typeof er.form.submit=="function"){er.form.submit=ep}}};return eq};function dh(ek,el){this.pos=this.start=0;this.string=ek;this.tabSize=el||8;this.lastColumnPos=this.lastColumnValue=0}dh.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ek){var em=this.string.charAt(this.pos);if(typeof ek=="string"){var el=em==ek}else{var el=em&&(ek.test?ek.test(em):ek(em))}if(el){++this.pos;return em}},eatWhile:function(ek){var el=this.pos;while(this.eat(ek)){}return this.pos>el},eatSpace:function(){var ek=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ek},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ek){var el=this.string.indexOf(ek,this.pos);if(el>-1){this.pos=el;return true}},backUp:function(ek){this.pos-=ek},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return bb(this.string,null,this.tabSize)},match:function(eo,el,ek){if(typeof eo=="string"){var ep=function(eq){return ek?eq.toLowerCase():eq};var en=this.string.substr(this.pos,eo.length);if(ep(en)==ep(eo)){if(el!==false){this.pos+=eo.length}return true}}else{var em=this.string.slice(this.pos).match(eo);if(em&&em.index>0){return null}if(em&&el!==false){this.pos+=em[0].length}return em}},current:function(){return this.string.slice(this.start,this.pos)}};y.StringStream=dh;function E(el,ek){this.lines=[];this.type=ek;this.doc=el}y.TextMarker=E;aV(E);E.prototype.clear=function(){if(this.explicitlyCleared){return}var er=this.doc.cm,el=er&&!er.curOp;if(el){bR(er)}if(dD(this,"clear")){var es=this.find();if(es){L(this,"clear",es.from,es.to)}}var em=null,ep=null;for(var en=0;en<this.lines.length;++en){var et=this.lines[en];var eq=dt(et.markedSpans,this);if(eq.to!=null){ep=a8(et)}et.markedSpans=db(et.markedSpans,eq);if(eq.from!=null){em=a8(et)}else{if(this.collapsed&&!dN(this.doc,et)&&er){ec(et,at(er.display))}}}if(er&&this.collapsed&&!er.options.lineWrapping){for(var en=0;en<this.lines.length;++en){var ek=s(er.doc,this.lines[en]),eo=cR(er.doc,ek);if(eo>er.display.maxLineLength){er.display.maxLine=ek;er.display.maxLineLength=eo;er.display.maxLineChanged=true}}}if(em!=null&&er){N(er,em,ep+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(er){cY(er)}}if(el){T(er)}};E.prototype.find=function(){var ep,eo;for(var el=0;el<this.lines.length;++el){var ek=this.lines[el];var em=dt(ek.markedSpans,this);if(em.from!=null||em.to!=null){var en=a8(ek);if(em.from!=null){ep=H(en,em.from)}if(em.to!=null){eo=H(en,em.to)}}}if(this.type=="bookmark"){return ep}return ep&&{from:ep,to:eo}};E.prototype.changed=function(){var en=this.find(),ek=this.doc.cm;if(!en||!ek){return}if(this.type!="bookmark"){en=en.from}var el=dx(this.doc,en.line);d0(ek,el);if(en.line>=ek.display.showingFrom&&en.line<ek.display.showingTo){for(var em=ek.display.lineDiv.firstChild;em;em=em.nextSibling){if(em.lineObj==el){if(em.offsetHeight!=el.height){ec(el,em.offsetHeight)}break}}bU(ek,function(){ek.curOp.selectionChanged=ek.curOp.forceUpdate=ek.curOp.updateMaxLine=true})}};E.prototype.attachLine=function(ek){if(!this.lines.length&&this.doc.cm){var el=this.doc.cm.curOp;if(!el.maybeHiddenMarkers||ce(el.maybeHiddenMarkers,this)==-1){(el.maybeUnhiddenMarkers||(el.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(ek)};E.prototype.detachLine=function(ek){this.lines.splice(ce(this.lines,ek),1);if(!this.lines.length&&this.doc.cm){var el=this.doc.cm.curOp;(el.maybeHiddenMarkers||(el.maybeHiddenMarkers=[])).push(this)}};function c8(et,er,es,ev,ep){if(ev&&ev.shared){return D(et,er,es,ev,ep)}if(et.cm&&!et.cm.curOp){return b2(et.cm,c8)(et,er,es,ev,ep)}var eo=new E(et,ep);if(ep=="range"&&!dy(er,es)){return eo}if(ev){aj(ev,eo)}if(eo.replacedWith){eo.collapsed=true;eo.replacedWith=d7("span",[eo.replacedWith],"CodeMirror-widget");if(!ev.handleMouseEvents){eo.replacedWith.ignoreEvents=true}}if(eo.collapsed){ay=true}if(eo.addToHistory){c9(et,{from:er,to:es,origin:"markText"},{head:et.sel.head,anchor:et.sel.anchor},NaN)}var el=er.line,eu=0,en,em,eq=et.cm,ek;et.iter(el,es.line+1,function(ew){if(eq&&eo.collapsed&&!eq.options.lineWrapping&&s(et,ew)==eq.display.maxLine){ek=true}var ex={from:null,to:null,marker:eo};eu+=ew.text.length;if(el==er.line){ex.from=er.ch;eu-=er.ch}if(el==es.line){ex.to=es.ch;eu-=ew.text.length-es.ch}if(eo.collapsed){if(el==es.line){em=aW(ew,es.ch)}if(el==er.line){en=aW(ew,er.ch)}else{ec(ew,0)}}br(ew,ex);++el});if(eo.collapsed){et.iter(er.line,es.line+1,function(ew){if(dN(et,ew)){ec(ew,0)}})}if(eo.clearOnEnter){bf(eo,"beforeCursorEnter",function(){eo.clear()})}if(eo.readOnly){ee=true;if(et.history.done.length||et.history.undone.length){et.clearHistory()}}if(eo.collapsed){if(en!=em){throw new Error("Inserting collapsed marker overlapping an existing one")}eo.size=eu;eo.atomic=true}if(eq){if(ek){eq.curOp.updateMaxLine=true}if(eo.className||eo.title||eo.startStyle||eo.endStyle||eo.collapsed){N(eq,er.line,es.line+1)}if(eo.atomic){cY(eq)}}return eo}function r(en,el){this.markers=en;this.primary=el;for(var ek=0,em=this;ek<en.length;++ek){en[ek].parent=this;bf(en[ek],"clear",function(){em.clear()})}}y.SharedTextMarker=r;aV(r);r.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var ek=0;ek<this.markers.length;++ek){this.markers[ek].clear()}L(this,"clear")};r.prototype.find=function(){return this.primary.find()};function D(eo,er,eq,ek,em){ek=aj(ek);ek.shared=false;var ep=[c8(eo,er,eq,ek,em)],el=ep[0];var en=ek.replacedWith;cF(eo,function(et){if(en){ek.replacedWith=en.cloneNode(true)}ep.push(c8(et,dX(et,er),dX(et,eq),ek,em));for(var es=0;es<et.linked.length;++es){if(et.linked[es].isParent){return}}el=dV(ep)});return new r(ep,el)}function dt(em,ek){if(em){for(var el=0;el<em.length;++el){var en=em[el];if(en.marker==ek){return en}}}}function db(el,em){for(var en,ek=0;ek<el.length;++ek){if(el[ek]!=em){(en||(en=[])).push(el[ek])}}return en}function br(ek,el){ek.markedSpans=ek.markedSpans?ek.markedSpans.concat([el]):[el];el.marker.attachLine(ek)}function an(el,em,eq){if(el){for(var eo=0,er;eo<el.length;++eo){var es=el[eo],ep=es.marker;var ek=es.from==null||(ep.inclusiveLeft?es.from<=em:es.from<em);if(ek||ep.type=="bookmark"&&es.from==em&&(!eq||!es.marker.insertLeft)){var en=es.to==null||(ep.inclusiveRight?es.to>=em:es.to>em);(er||(er=[])).push({from:es.from,to:en?null:es.to,marker:ep})}}}return er}function ac(el,en,eq){if(el){for(var eo=0,er;eo<el.length;++eo){var es=el[eo],ep=es.marker;var em=es.to==null||(ep.inclusiveRight?es.to>=en:es.to>en);if(em||ep.type=="bookmark"&&es.from==en&&(!eq||es.marker.insertLeft)){var ek=es.from==null||(ep.inclusiveLeft?es.from<=en:es.from<en);(er||(er=[])).push({from:ek?null:es.from-en,to:es.to==null?null:es.to-en,marker:ep})}}}return er}function cQ(ew,et){var es=bn(ew,et.from.line)&&dx(ew,et.from.line).markedSpans;var ez=bn(ew,et.to.line)&&dx(ew,et.to.line).markedSpans;if(!es&&!ez){return null}var el=et.from.ch,eo=et.to.ch,er=dW(et.from,et.to);var eq=an(es,el,er);var ey=ac(ez,eo,er);var ex=et.text.length==1,em=dV(et.text).length+(ex?el:0);if(eq){for(var en=0;en<eq.length;++en){var ev=eq[en];if(ev.to==null){var eA=dt(ey,ev.marker);if(!eA){ev.to=el}else{if(ex){ev.to=eA.to==null?null:eA.to+em}}}}}if(ey){for(var en=0;en<ey.length;++en){var ev=ey[en];if(ev.to!=null){ev.to+=em}if(ev.from==null){var eA=dt(eq,ev.marker);if(!eA){ev.from=em;if(ex){(eq||(eq=[])).push(ev)}}}else{ev.from+=em;if(ex){(eq||(eq=[])).push(ev)}}}}if(ex&&eq){for(var en=0;en<eq.length;++en){if(eq[en].from!=null&&eq[en].from==eq[en].to&&eq[en].marker.type!="bookmark"){eq.splice(en--,1)}}if(!eq.length){eq=null}}var ep=[eq];if(!ex){var eu=et.text.length-2,ek;if(eu>0&&eq){for(var en=0;en<eq.length;++en){if(eq[en].to==null){(ek||(ek=[])).push({from:null,to:null,marker:eq[en].marker})}}}for(var en=0;en<eu;++en){ep.push(ek)}ep.push(ey)}return ep}function cH(es,eq){var ek=bl(es,eq);var et=cQ(es,eq);if(!ek){return et}if(!et){return ek}for(var en=0;en<ek.length;++en){var eo=ek[en],ep=et[en];if(eo&&ep){spans:for(var em=0;em<ep.length;++em){var er=ep[em];for(var el=0;el<eo.length;++el){if(eo[el].marker==er.marker){continue spans}}eo.push(er)}}else{if(ep){ek[en]=ep}}}return ek}function bP(eu,es,et){var en=null;eu.iter(es.line,et.line+1,function(ev){if(ev.markedSpans){for(var ew=0;ew<ev.markedSpans.length;++ew){var ex=ev.markedSpans[ew].marker;if(ex.readOnly&&(!en||ce(en,ex)==-1)){(en||(en=[])).push(ex)}}}});if(!en){return null}var eo=[{from:es,to:et}];for(var ep=0;ep<en.length;++ep){var eq=en[ep],el=eq.find();for(var em=0;em<eo.length;++em){var ek=eo[em];if(dy(ek.to,el.from)||dy(el.to,ek.from)){continue}var er=[em,1];if(dy(ek.from,el.from)||!eq.inclusiveLeft&&dW(ek.from,el.from)){er.push({from:ek.from,to:el.from})}if(dy(el.to,ek.to)||!eq.inclusiveRight&&dW(ek.to,el.to)){er.push({from:el.to,to:ek.to})}eo.splice.apply(eo,er);em+=er.length-1}}return eo}function aW(el,en){var ek=ay&&el.markedSpans,ep;if(ek){for(var eo,em=0;em<ek.length;++em){eo=ek[em];if(!eo.marker.collapsed){continue}if((eo.from==null||eo.from<en)&&(eo.to==null||eo.to>en)&&(!ep||ep.width<eo.marker.width)){ep=eo.marker}}}return ep}function dd(ek){return aW(ek,-1)}function cW(ek){return aW(ek,ek.text.length+1)}function s(em,el){var ek;while(ek=dd(el)){el=dx(em,ek.find().from.line)}return el}function dN(eo,el){var ek=ay&&el.markedSpans;if(ek){for(var en,em=0;em<ek.length;++em){en=ek[em];if(!en.marker.collapsed){continue}if(en.from==null){return true}if(en.marker.replacedWith){continue}if(en.from==0&&en.marker.inclusiveLeft&&G(eo,el,en)){return true}}}}function G(eq,el,en){if(en.to==null){var ek=en.marker.find().to,eo=dx(eq,ek.line);return G(eq,eo,dt(eo.markedSpans,en.marker))}if(en.marker.inclusiveRight&&en.to==el.text.length){return true}for(var ep,em=0;em<el.markedSpans.length;++em){ep=el.markedSpans[em];if(ep.marker.collapsed&&!ep.marker.replacedWith&&ep.from==en.to&&(ep.marker.inclusiveLeft||en.marker.inclusiveRight)&&G(eq,el,ep)){return true}}}function ed(ek){var em=ek.markedSpans;if(!em){return}for(var el=0;el<em.length;++el){em[el].marker.detachLine(ek)}ek.markedSpans=null}function b3(ek,em){if(!em){return}for(var el=0;el<em.length;++el){em[el].marker.attachLine(ek)}ek.markedSpans=em}var cq=y.LineWidget=function(ek,en,el){if(el){for(var em in el){if(el.hasOwnProperty(em)){this[em]=el[em]}}}this.cm=ek;this.node=en};aV(cq);function B(ek){return function(){var em=!this.cm.curOp;if(em){bR(this.cm)}try{var el=ek.apply(this,arguments)}finally{if(em){T(this.cm)}}return el}}cq.prototype.clear=B(function(){var el=this.line.widgets,en=a8(this.line);if(en==null||!el){return}for(var em=0;em<el.length;++em){if(el[em]==this){el.splice(em--,1)}}if(!el.length){this.line.widgets=null}var ek=a7(this.cm,this.line)<this.cm.doc.scrollTop;ec(this.line,Math.max(0,this.line.height-bZ(this)));if(ek){bT(this.cm,0,-this.height)}N(this.cm,en,en+1)});cq.prototype.changed=B(function(){var ek=this.height;this.height=null;var el=bZ(this)-ek;if(!el){return}ec(this.line,this.line.height+el);var em=a8(this.line);N(this.cm,em,em+1)});function bZ(ek){if(ek.height!=null){return ek.height}if(!ek.node.parentNode||ek.node.parentNode.nodeType!=1){bc(ek.cm.display.measure,d7("div",[ek.node],null,"position: relative"))}return ek.height=ek.node.offsetHeight}function a2(ek,eo,em,el){var en=new cq(ek,em,el);if(en.noHScroll){ek.display.alignWidgets=true}c0(ek,eo,function(eq){var er=eq.widgets||(eq.widgets=[]);if(en.insertAt==null){er.push(en)}else{er.splice(Math.min(er.length-1,Math.max(0,en.insertAt)),0,en)}en.line=eq;if(!dN(ek.doc,eq)||en.showIfHidden){var ep=a7(ek,eq)<ek.doc.scrollTop;ec(eq,eq.height+bZ(en));if(ep){bT(ek,0,en.height)}}return true});return en}var eb=y.Line=function(em,el,ek){this.text=em;b3(this,el);this.height=ek?ek(this):1};aV(eb);function cS(el,eo,em,ek){el.text=eo;if(el.stateAfter){el.stateAfter=null}if(el.styles){el.styles=null}if(el.order!=null){el.order=null}ed(el);b3(el,em);var en=ek?ek(el):1;if(en!=el.height){ec(el,en)}}function aX(ek){ek.parent=null;ed(ek)}function q(es,eu,en,el,eo){var em=en.flattenSpans;if(em==null){em=es.options.flattenSpans}var eq=0,ep=null;var et=new dh(eu,es.options.tabSize),ek;if(eu==""&&en.blankLine){en.blankLine(el)}while(!et.eol()){if(et.pos>es.options.maxHighlightLength){em=false;et.pos=eu.length;ek=null}else{ek=en.token(et,el)}if(!em||ep!=ek){if(eq<et.start){eo(et.start,ep)}eq=et.start;ep=ek}et.start=et.pos}while(eq<et.pos){var er=Math.min(et.pos,eq+50000);eo(er,ep);eq=er}}function dS(el,em,eq){var eo=[el.state.modeGen];q(el,em.text,el.doc.mode,eq,function(es,et){eo.push(es,et)});for(var er=0;er<el.state.overlays.length;++er){var en=el.state.overlays[er],ep=1,ek=0;q(el,em.text,en.mode,true,function(es,eu){var ew=ep;while(ek<es){var et=eo[ep];if(et>es){eo.splice(ep,1,es,eo[ep+1],et)}ep+=2;ek=Math.min(es,et)}if(!eu){return}if(en.opaque){eo.splice(ew,ep-ew,es,eu);ep=ew+2}else{for(;ew<ep;ew+=2){var ev=eo[ew+1];eo[ew+1]=ev?ev+" "+eu:eu}}})}return eo}function b7(ek,el){if(!el.styles||el.styles[0]!=ek.state.modeGen){el.styles=dS(ek,el,el.stateAfter=cp(ek,a8(el)))}return el.styles}function cn(ek,el,em){var eo=ek.doc.mode;var en=new dh(el.text,ek.options.tabSize);if(el.text==""&&eo.blankLine){eo.blankLine(em)}while(!en.eol()&&en.pos<=ek.options.maxHighlightLength){eo.token(en,em);en.start=en.pos}}var cA={};function dj(em,el){if(!em){return null}for(;;){var ek=em.match(/(?:^|\s)line-(background-)?(\S+)/);if(!ek){break}em=em.slice(0,ek.index)+em.slice(ek.index+ek[0].length);var en=ek[1]?"bgClass":"textClass";if(el[en]==null){el[en]=ek[2]}else{if(!(new RegExp("(?:^|s)"+ek[2]+"(?:$|s)")).test(el[en])){el[en]+=" "+ek[2]}}}return cA[em]||(cA[em]="cm-"+em.replace(/ +/g," cm-"))}function df(et,ex,ek,ew){var eu,ey=ex,ep=true;while(eu=dd(ey)){ey=dx(et.doc,eu.find().from.line)}var eq={pre:d7("pre"),col:0,pos:0,measure:null,measuredSomething:false,cm:et,copyWidgets:ew};do{if(ey.text){ep=false}eq.measure=ey==ex&&ek;eq.pos=0;eq.addToken=eq.measure?e:o;if((ct||b1)&&et.getOption("lineWrapping")){eq.addToken=dU(eq.addToken)}var eo=aP(ey,eq,b7(et,ey));if(ek&&ey==ex&&!eq.measuredSomething){ek[0]=eq.pre.appendChild(aN(et.display.measure));eq.measuredSomething=true}if(eo){ey=dx(et.doc,eo.to.line)}}while(eo);if(ek&&!eq.measuredSomething&&!ek[0]){ek[0]=eq.pre.appendChild(ep?d7("span","\u00a0"):aN(et.display.measure))}if(!eq.pre.firstChild&&!dN(et.doc,ex)){eq.pre.appendChild(document.createTextNode("\u00a0"))}var el;if(ek&&ct&&(el=a(ey))){var en=el.length-1;if(el[en].from==el[en].to){--en}var ev=el[en],em=el[en-1];if(ev.from+1==ev.to&&em&&ev.level<em.level){var es=ek[eq.pos-1];if(es){es.parentNode.insertBefore(es.measureRight=aN(et.display.measure),es.nextSibling)}}}var er=eq.textClass?eq.textClass+" "+(ex.textClass||""):ex.textClass;if(er){eq.pre.className=er}ae(et,"renderLine",et,ex,eq.pre);return eq}var b5=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function o(eo,ew,ek,en,ex,ev){if(!ew){return}if(!b5.test(ew)){eo.col+=ew.length;var er=document.createTextNode(ew)}else{var er=document.createDocumentFragment(),et=0;while(true){b5.lastIndex=et;var el=b5.exec(ew);var eq=el?el.index-et:ew.length-et;if(eq){er.appendChild(document.createTextNode(ew.slice(et,et+eq)));eo.col+=eq}if(!el){break}et+=eq+1;if(el[0]=="\t"){var ep=eo.cm.options.tabSize,es=ep-eo.col%ep;er.appendChild(d7("span",bC(es),"cm-tab"));eo.col+=es}else{var em=d7("span","\u2022","cm-invalidchar");em.title="\\u"+el[0].charCodeAt(0).toString(16);er.appendChild(em);eo.col+=1}}}if(ek||en||ex||eo.measure){var eu=ek||"";if(en){eu+=en}if(ex){eu+=ex}var em=d7("span",[er],eu);if(ev){em.title=ev}return eo.pre.appendChild(em)}eo.pre.appendChild(er)}function e(er,et,el,eo,eu){var eq=er.cm.options.lineWrapping;for(var ep=0;ep<et.length;++ep){var ek=et.charAt(ep),em=ep==0;if(ek>="\ud800"&&ek<"\udbff"&&ep<et.length-1){ek=et.slice(ep,ep+2);++ep}else{if(ep&&eq&&bo(et,ep)){er.pre.appendChild(d7("wbr"))}}var en=er.measure[er.pos];var es=er.measure[er.pos]=o(er,ek,el,em&&eo,ep==et.length-1&&eu);if(en){es.leftSide=en.leftSide||en}if(ct&&eq&&ek==" "&&ep&&!/\s/.test(et.charAt(ep-1))&&ep<et.length-1&&!/\s/.test(et.charAt(ep+1))){es.style.whiteSpace="normal"}er.pos+=ek.length}if(et.length){er.measuredSomething=true}}function dU(ek){function el(em){var en=" ";for(var eo=0;eo<em.length-2;++eo){en+=eo%2?" ":"\u00a0"}en+=" ";return en}return function(en,er,eo,em,eq,ep){return ek(en,er.replace(/ {3,}/g,el),eo,em,eq,ep)}}function J(el,eo,ek,en){var ep=!en&&ek.replacedWith;if(ep){if(el.copyWidgets){ep=ep.cloneNode(true)}el.pre.appendChild(ep);if(el.measure){if(eo){el.measure[el.pos]=ep}else{var em=aN(el.cm.display.measure);if(ek.type=="bookmark"&&!ek.insertLeft){el.measure[el.pos]=el.pre.appendChild(em)}else{if(el.measure[el.pos]){return}else{el.measure[el.pos]=el.pre.insertBefore(em,ep)}}}el.measuredSomething=true}}el.pos+=eo}function aP(et,ez,es){var ep=et.markedSpans,er=et.text,ex=0;if(!ep){for(var eC=1;eC<es.length;eC+=2){ez.addToken(ez,er.slice(ex,ex=es[eC]),dj(es[eC+1],ez))}return}var eD=er.length,eo=0,eC=1,ev="",eE;var eG=0,ek,eF,ew,eH,em;for(;;){if(eG==eo){ek=eF=ew=eH="";em=null;eG=Infinity;var eq=[];for(var eA=0;eA<ep.length;++eA){var eB=ep[eA],ey=eB.marker;if(eB.from<=eo&&(eB.to==null||eB.to>eo)){if(eB.to!=null&&eG>eB.to){eG=eB.to;eF=""}if(ey.className){ek+=" "+ey.className}if(ey.startStyle&&eB.from==eo){ew+=" "+ey.startStyle}if(ey.endStyle&&eB.to==eG){eF+=" "+ey.endStyle}if(ey.title&&!eH){eH=ey.title}if(ey.collapsed&&(!em||em.marker.size<ey.size)){em=eB}}else{if(eB.from>eo&&eG>eB.from){eG=eB.from}}if(ey.type=="bookmark"&&eB.from==eo&&ey.replacedWith){eq.push(ey)}}if(em&&(em.from||0)==eo){J(ez,(em.to==null?eD:em.to)-eo,em.marker,em.from==null);if(em.to==null){return em.marker.find()}}if(!em&&eq.length){for(var eA=0;eA<eq.length;++eA){J(ez,0,eq[eA])}}}if(eo>=eD){break}var eu=Math.min(eD,eG);while(true){if(ev){var el=eo+ev.length;if(!em){var en=el>eu?ev.slice(0,eu-eo):ev;ez.addToken(ez,en,eE?eE+ek:ek,ew,eo+en.length==eG?eF:"",eH)}if(el>=eu){ev=ev.slice(eu-eo);eo=eu;break}eo=el;ew=""}ev=er.slice(ex,ex=es[eC++]);eE=dj(es[eC++],ez)}}}function dQ(eB,es,eo,ew,eq){function en(eC){return eo?eo[eC]:null}function er(eC,eE,eD){cS(eC,eE,eD,eq);L(eC,"change",eC,es)}var ex=es.from,el=es.to,eu=es.text;var et=dx(eB,ex.line),ek=dx(eB,el.line);var em=dV(eu),ez=en(eu.length-1),ev=el.line-ex.line;if(ex.ch==0&&el.ch==0&&em==""){for(var ey=0,eA=eu.length-1,ep=[];ey<eA;++ey){ep.push(new eb(eu[ey],en(ey),eq))}er(ek,ek.text,ez);if(ev){eB.remove(ex.line,ev)}if(ep.length){eB.insert(ex.line,ep)}}else{if(et==ek){if(eu.length==1){er(et,et.text.slice(0,ex.ch)+em+et.text.slice(el.ch),ez)}else{for(var ep=[],ey=1,eA=eu.length-1;ey<eA;++ey){ep.push(new eb(eu[ey],en(ey),eq))}ep.push(new eb(em+et.text.slice(el.ch),ez,eq));er(et,et.text.slice(0,ex.ch)+eu[0],en(0));eB.insert(ex.line+1,ep)}}else{if(eu.length==1){er(et,et.text.slice(0,ex.ch)+eu[0]+ek.text.slice(el.ch),en(0));eB.remove(ex.line+1,ev)}else{er(et,et.text.slice(0,ex.ch)+eu[0],en(0));er(ek,em+ek.text.slice(el.ch),ez);for(var ey=1,eA=eu.length-1,ep=[];ey<eA;++ey){ep.push(new eb(eu[ey],en(ey),eq))}if(ev>1){eB.remove(ex.line+1,ev-1)}eB.insert(ex.line+1,ep)}}}L(eB,"change",eB,es);bd(eB,ew.anchor,ew.head,null,true)}function dm(el){this.lines=el;this.parent=null;for(var em=0,en=el.length,ek=0;em<en;++em){el[em].parent=this;ek+=el[em].height}this.height=ek}dm.prototype={chunkSize:function(){return this.lines.length},removeInner:function(ek,eo){for(var em=ek,en=ek+eo;em<en;++em){var el=this.lines[em];this.height-=el.height;aX(el);L(el,"delete")}this.lines.splice(ek,eo)},collapse:function(ek){ek.splice.apply(ek,[ek.length,0].concat(this.lines))},insertInner:function(el,em,ek){this.height+=ek;this.lines=this.lines.slice(0,el).concat(em).concat(this.lines.slice(el));for(var en=0,eo=em.length;en<eo;++en){em[en].parent=this}},iterN:function(ek,en,em){for(var el=ek+en;ek<el;++ek){if(em(this.lines[ek])){return true}}}};function dO(en){this.children=en;var em=0,ek=0;for(var el=0,ep=en.length;el<ep;++el){var eo=en[el];em+=eo.chunkSize();ek+=eo.height;eo.parent=this}this.size=em;this.height=ek;this.parent=null}dO.prototype={chunkSize:function(){return this.size},removeInner:function(ek,er){this.size-=er;for(var em=0;em<this.children.length;++em){var eq=this.children[em],eo=eq.chunkSize();if(ek<eo){var en=Math.min(er,eo-ek),ep=eq.height;eq.removeInner(ek,en);this.height-=ep-eq.height;if(eo==en){this.children.splice(em--,1);eq.parent=null}if((er-=en)==0){break}ek=0}else{ek-=eo}}if(this.size-er<25){var el=[];this.collapse(el);this.children=[new dm(el)];this.children[0].parent=this}},collapse:function(ek){for(var el=0,em=this.children.length;el<em;++el){this.children[el].collapse(ek)}},insertInner:function(el,es,er){this.size+=es.length;this.height+=er;for(var em=0,eo=this.children.length;em<eo;++em){var ek=this.children[em],ep=ek.chunkSize();if(el<=ep){ek.insertInner(el,es,er);if(ek.lines&&ek.lines.length>50){while(ek.lines.length>50){var en=ek.lines.splice(ek.lines.length-25,25);var eq=new dm(en);ek.height-=eq.height;this.children.splice(em+1,0,eq);eq.parent=this}this.maybeSpill()}break}el-=ep}},maybeSpill:function(){if(this.children.length<=10){return}var en=this;do{var el=en.children.splice(en.children.length-5,5);var em=new dO(el);if(!en.parent){var eo=new dO(en.children);eo.parent=en;en.children=[eo,em];en=eo}else{en.size-=em.size;en.height-=em.height;var ek=ce(en.parent.children,en);en.parent.children.splice(ek+1,0,em)}em.parent=en.parent}while(en.children.length>10);en.parent.maybeSpill()},iterN:function(ek,er,eq){for(var el=0,eo=this.children.length;el<eo;++el){var ep=this.children[el],en=ep.chunkSize();if(ek<en){var em=Math.min(er,en-ek);if(ep.iterN(ek,em,eq)){return true}if((er-=em)==0){break}ek=0}else{ek-=en}}}};var bD=0;var X=y.Doc=function(em,el,ek){if(!(this instanceof X)){return new X(em,el,ek)}if(ek==null){ek=0}dO.call(this,[new dm([new eb("",null)])]);this.first=ek;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=Z();this.cleanGeneration=1;this.frontier=ek;var en=H(ek,0);this.sel={from:en,to:en,head:en,anchor:en,shift:false,extend:false,goalColumn:null};this.id=++bD;this.modeOption=el;if(typeof em=="string"){em=av(em)}dQ(this,{from:en,to:en,text:em},null,{head:en,anchor:en})};X.prototype=bw(dO.prototype,{constructor:X,iter:function(em,el,ek){if(ek){this.iterN(em-this.first,el-em,ek)}else{this.iterN(this.first,this.first+this.size,em)}},insert:function(el,em){var ek=0;for(var en=0,eo=em.length;en<eo;++en){ek+=em[en].height}this.insertInner(el-this.first,em,ek)},remove:function(ek,el){this.removeInner(ek-this.first,el)},getValue:function(el){var ek=ax(this,this.first,this.first+this.size);if(el===false){return ek}return ek.join(el||"\n")},setValue:function(el){var em=H(this.first,0),ek=this.first+this.size-1;aG(this,{from:em,to:H(ek,dx(this,ek).text.length),text:av(el),origin:"setValue"},{head:em,anchor:em},true)},replaceRange:function(el,en,em,ek){en=dX(this,en);em=em?dX(this,em):en;aw(this,el,en,em,ek)},getRange:function(en,em,el){var ek=d9(this,dX(this,en),dX(this,em));if(el===false){return ek}return ek.join(el||"\n")},getLine:function(el){var ek=this.getLineHandle(el);return ek&&ek.text},setLine:function(ek,el){if(bn(this,ek)){aw(this,el,H(ek,0),dX(this,H(ek)))}},removeLine:function(ek){if(ek){aw(this,"",dX(this,H(ek-1)),dX(this,H(ek)))}else{aw(this,"",H(0,0),dX(this,H(1,0)))}},getLineHandle:function(ek){if(bn(this,ek)){return dx(this,ek)}},getLineNumber:function(ek){return a8(ek)},getLineHandleVisualStart:function(ek){if(typeof ek=="number"){ek=dx(this,ek)}return s(this,ek)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(ek){return dX(this,ek)},getCursor:function(em){var ek=this.sel,el;if(em==null||em=="head"){el=ek.head}else{if(em=="anchor"){el=ek.anchor}else{if(em=="end"||em===false){el=ek.to}else{el=ek.from}}}return bv(el)},somethingSelected:function(){return !dW(this.sel.head,this.sel.anchor)},setCursor:dR(function(ek,el,en){var em=dX(this,typeof ek=="number"?H(ek,el||0):ek);if(en){d4(this,em)}else{bd(this,em,em)}}),setSelection:dR(function(el,em,ek){bd(this,dX(this,el),dX(this,em||el),ek)}),extendSelection:dR(function(em,el,ek){d4(this,dX(this,em),el&&dX(this,el),ek)}),getSelection:function(ek){return this.getRange(this.sel.from,this.sel.to,ek)},replaceSelection:function(el,em,ek){aG(this,{from:this.sel.from,to:this.sel.to,text:av(el),origin:ek},em||"around")},undo:dR(function(){bm(this,"undo")}),redo:dR(function(){bm(this,"redo")}),setExtending:function(ek){this.sel.extend=ek},historySize:function(){var ek=this.history;return{undo:ek.done.length,redo:ek.undone.length}},clearHistory:function(){this.history=Z(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(ek){return this.history.generation==(ek||this.cleanGeneration)},getHistory:function(){return{done:a9(this.history.done),undone:a9(this.history.undone)}},setHistory:function(el){var ek=this.history=Z(this.history.maxGeneration);ek.done=el.done.slice(0);ek.undone=el.undone.slice(0)},markText:function(em,el,ek){return c8(this,dX(this,em),dX(this,el),ek,"range")},setBookmark:function(em,ek){var el={replacedWith:ek&&(ek.nodeType==null?ek.widget:ek),insertLeft:ek&&ek.insertLeft};em=dX(this,em);return c8(this,em,em,el,"bookmark")},findMarksAt:function(eo){eo=dX(this,eo);var en=[],el=dx(this,eo.line).markedSpans;if(el){for(var ek=0;ek<el.length;++ek){var em=el[ek];if((em.from==null||em.from<=eo.ch)&&(em.to==null||em.to>=eo.ch)){en.push(em.marker.parent||em.marker)}}}return en},getAllMarks:function(){var ek=[];this.iter(function(em){var el=em.markedSpans;if(el){for(var en=0;en<el.length;++en){if(el[en].from!=null){ek.push(el[en].marker)}}}});return ek},posFromIndex:function(el){var ek,em=this.first;this.iter(function(en){var eo=en.text.length+1;if(eo>el){ek=el;return true}el-=eo;++em});return dX(this,H(em,ek))},indexFromPos:function(el){el=dX(this,el);var ek=el.ch;if(el.line<this.first||el.ch<0){return 0}this.iter(this.first,el.line,function(em){ek+=em.text.length+1});return ek},copy:function(ek){var el=new X(ax(this,this.first,this.first+this.size),this.modeOption,this.first);el.scrollTop=this.scrollTop;el.scrollLeft=this.scrollLeft;el.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(ek){el.history.undoDepth=this.history.undoDepth;el.setHistory(this.getHistory())}return el},linkedDoc:function(ek){if(!ek){ek={}}var en=this.first,em=this.first+this.size;if(ek.from!=null&&ek.from>en){en=ek.from}if(ek.to!=null&&ek.to<em){em=ek.to}var el=new X(ax(this,en,em),ek.mode||this.modeOption,en);if(ek.sharedHist){el.history=this.history}(this.linked||(this.linked=[])).push({doc:el,sharedHist:ek.sharedHist});el.linked=[{doc:this,isParent:true,sharedHist:ek.sharedHist}];return el},unlinkDoc:function(el){if(el instanceof y){el=el.doc}if(this.linked){for(var em=0;em<this.linked.length;++em){var en=this.linked[em];if(en.doc!=el){continue}this.linked.splice(em,1);el.unlinkDoc(this);break}}if(el.history==this.history){var ek=[el.id];cF(el,function(eo){ek.push(eo.id)},true);el.history=Z();el.history.done=a9(this.history.done,ek);el.history.undone=a9(this.history.undone,ek)}},iterLinkedDocs:function(ek){cF(this,ek)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});X.prototype.eachLine=X.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var a5 in X.prototype){if(X.prototype.hasOwnProperty(a5)&&ce(d,a5)<0){y.prototype[a5]=(function(ek){return function(){return ek.apply(this.doc,arguments)}})(X.prototype[a5])}}aV(X);function cF(en,em,el){function ek(et,er,ep){if(et.linked){for(var eq=0;eq<et.linked.length;++eq){var eo=et.linked[eq];if(eo.doc==er){continue}var es=ep&&eo.sharedHist;if(el&&!es){continue}em(eo.doc,es);ek(eo.doc,et,es)}}}ek(en,null,true)}function cI(ek,el){if(el.cm){throw new Error("This document is already in use.")}ek.doc=el;el.cm=ek;I(ek);aR(ek);if(!ek.options.lineWrapping){ea(ek)}ek.options.mode=el.modeOption;N(ek)}function dx(ek,eo){eo-=ek.first;while(!ek.lines){for(var el=0;;++el){var en=ek.children[el],em=en.chunkSize();if(eo<em){ek=en;break}eo-=em}}return ek.lines[eo]}function d9(em,eo,ek){var el=[],en=eo.line;em.iter(eo.line,ek.line+1,function(ep){var eq=ep.text;if(en==ek.line){eq=eq.slice(0,ek.ch)}if(en==eo.line){eq=eq.slice(eo.ch)}el.push(eq);++en});return el}function ax(el,en,em){var ek=[];el.iter(en,em,function(eo){ek.push(eo.text)});return ek}function ec(el,ek){var em=ek-el.height;for(var en=el;en;en=en.parent){en.height+=em}}function a8(ek){if(ek.parent==null){return null}var eo=ek.parent,en=ce(eo.lines,ek);for(var el=eo.parent;el;eo=el,el=el.parent){for(var em=0;;++em){if(el.children[em]==eo){break}en+=el.children[em].chunkSize()}}return en+eo.first}function a1(eq,eo){var em=eq.first;outer:do{for(var en=0,ep=eq.children.length;en<ep;++en){var el=eq.children[en],ek=el.height;if(eo<ek){eq=el;continue outer}eo-=ek;em+=el.chunkSize()}return em}while(!eq.lines);for(var en=0,ep=eq.lines.length;en<ep;++en){var es=eq.lines[en],er=es.height;if(eo<er){break}eo-=er}return em+en}function a7(ek,en){en=s(ek.doc,en);var ep=0,em=en.parent;for(var eo=0;eo<em.lines.length;++eo){var el=em.lines[eo];if(el==en){break}else{ep+=el.height}}for(var eq=em.parent;eq;em=eq,eq=em.parent){for(var eo=0;eo<eq.children.length;++eo){var er=eq.children[eo];if(er==em){break}else{ep+=er.height}}}return ep}function a(el){var ek=el.order;if(ek==null){ek=el.order=aH(el.text)}return ek}function Z(ek){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:ek||1,maxGeneration:ek||1}}function bg(el,ep,eo,en){var ek=ep["spans_"+el.id],em=0;el.iter(Math.max(el.first,eo),Math.min(el.first+el.size,en),function(eq){if(eq.markedSpans){(ek||(ek=ep["spans_"+el.id]={}))[em]=eq.markedSpans}++em})}function cl(ek,en){var em={line:en.from.line,ch:en.from.ch};var el={from:em,to:bY(en),text:d9(ek,en.from,en.to)};bg(ek,el,en.from.line,en.to.line+1);cF(ek,function(eo){bg(eo,el,en.from.line,en.to.line+1)},true);return el}function c9(ep,er,eo,ek){var en=ep.history;en.undone.length=0;var em=+new Date,eq=dV(en.done);if(eq&&(en.lastOp==ek||en.lastOrigin==er.origin&&er.origin&&((er.origin.charAt(0)=="+"&&ep.cm&&en.lastTime>em-ep.cm.options.historyEventDelay)||er.origin.charAt(0)=="*"))){var el=dV(eq.changes);if(dW(er.from,er.to)&&dW(er.from,el.to)){el.to=bY(er)}else{eq.changes.push(cl(ep,er))}eq.anchorAfter=eo.anchor;eq.headAfter=eo.head}else{eq={changes:[cl(ep,er)],generation:en.generation,anchorBefore:ep.sel.anchor,headBefore:ep.sel.head,anchorAfter:eo.anchor,headAfter:eo.head};en.done.push(eq);en.generation=++en.maxGeneration;while(en.done.length>en.undoDepth){en.done.shift()}}en.lastTime=em;en.lastOp=ek;en.lastOrigin=er.origin}function aK(em){if(!em){return null}for(var el=0,ek;el<em.length;++el){if(em[el].marker.explicitlyCleared){if(!ek){ek=em.slice(0,el)}}else{if(ek){ek.push(em[el])}}}return !ek?em:ek.length?ek:null}function bl(en,eo){var em=eo["spans_"+en.id];if(!em){return null}for(var el=0,ek=[];el<eo.text.length;++el){ek.push(aK(em[el]))}return ek}function a9(eu,en){for(var eq=0,el=[];eq<eu.length;++eq){var em=eu[eq],es=em.changes,et=[];el.push({changes:et,anchorBefore:em.anchorBefore,headBefore:em.headBefore,anchorAfter:em.anchorAfter,headAfter:em.headAfter});for(var ep=0;ep<es.length;++ep){var er=es[ep],eo;et.push({from:er.from,to:er.to,text:er.text});if(en){for(var ek in er){if(eo=ek.match(/^spans_(\d+)$/)){if(ce(en,Number(eo[1]))>-1){dV(et)[ek]=er[ek];delete er[ek]}}}}}}return el}function dk(en,em,el,ek){if(el<en.line){en.line+=ek}else{if(em<en.line){en.line=em;en.ch=0}}}function dA(en,ep,eq,er){for(var em=0;em<en.length;++em){var ek=en[em],eo=true;for(var el=0;el<ek.changes.length;++el){var es=ek.changes[el];if(!ek.copied){es.from=bv(es.from);es.to=bv(es.to)}if(eq<es.from.line){es.from.line+=er;es.to.line+=er}else{if(ep<=es.to.line){eo=false;break}}}if(!ek.copied){ek.anchorBefore=bv(ek.anchorBefore);ek.headBefore=bv(ek.headBefore);ek.anchorAfter=bv(ek.anchorAfter);ek.readAfter=bv(ek.headAfter);ek.copied=true}if(!eo){en.splice(0,em+1);em=0}else{dk(ek.anchorBefore);dk(ek.headBefore);dk(ek.anchorAfter);dk(ek.headAfter)}}}function cs(el,eo){var en=eo.from.line,em=eo.to.line,ek=eo.text.length-(em-en)-1;dA(el.done,en,em,ek);dA(el.undone,en,em,ek)}function dg(){cT(this)}function V(ek){if(!ek.stop){ek.stop=dg}return ek}function bO(ek){if(ek.preventDefault){ek.preventDefault()}else{ek.returnValue=false}}function ci(ek){if(ek.stopPropagation){ek.stopPropagation()}else{ek.cancelBubble=true}}function a6(ek){return ek.defaultPrevented!=null?ek.defaultPrevented:ek.returnValue==false}function cT(ek){bO(ek);ci(ek)}y.e_stop=cT;y.e_preventDefault=bO;y.e_stopPropagation=ci;function A(ek){return ek.target||ek.srcElement}function dZ(el){var ek=el.which;if(ek==null){if(el.button&1){ek=1}else{if(el.button&2){ek=3}else{if(el.button&4){ek=2}}}}if(bk&&el.ctrlKey&&ek==1){ek=3}return ek}function bf(en,el,em){if(en.addEventListener){en.addEventListener(el,em,false)}else{if(en.attachEvent){en.attachEvent("on"+el,em)}else{var eo=en._handlers||(en._handlers={});var ek=eo[el]||(eo[el]=[]);ek.push(em)}}}function cL(eo,em,en){if(eo.removeEventListener){eo.removeEventListener(em,en,false)}else{if(eo.detachEvent){eo.detachEvent("on"+em,en)}else{var ek=eo._handlers&&eo._handlers[em];if(!ek){return}for(var el=0;el<ek.length;++el){if(ek[el]==en){ek.splice(el,1);break}}}}}function ae(eo,en){var ek=eo._handlers&&eo._handlers[en];if(!ek){return}var el=Array.prototype.slice.call(arguments,2);for(var em=0;em<ek.length;++em){ek[em].apply(null,el)}}var aO,bE=0;function L(ep,eo){var ek=ep._handlers&&ep._handlers[eo];if(!ek){return}var em=Array.prototype.slice.call(arguments,2);if(!aO){++bE;aO=[];setTimeout(c1,0)}function el(eq){return function(){eq.apply(null,em)}}for(var en=0;en<ek.length;++en){aO.push(el(ek[en]))}}function ao(ek,em,el){ae(ek,el||em.type,ek,em);return a6(em)||em.codemirrorIgnore}function c1(){--bE;var ek=aO;aO=null;for(var el=0;el<ek.length;++el){ek[el]()}}function dD(em,el){var ek=em._handlers&&em._handlers[el];return ek&&ek.length>0}y.on=bf;y.off=cL;y.signal=ae;function aV(ek){ek.prototype.on=function(el,em){bf(this,el,em)};ek.prototype.off=function(el,em){cL(this,el,em)}}var aJ=30;var bp=y.Pass={toString:function(){return"CodeMirror.Pass"}};function ej(){this.id=null}ej.prototype={set:function(ek,el){clearTimeout(this.id);this.id=setTimeout(el,ek)}};function bb(em,ek,eo,ep,el){if(ek==null){ek=em.search(/[^\s\u00a0]/);if(ek==-1){ek=em.length}}for(var en=ep||0,eq=el||0;en<ek;++en){if(em.charAt(en)=="\t"){eq+=eo-(eq%eo)}else{++eq}}return eq}y.countColumn=bb;var au=[""];function bC(ek){while(au.length<=ek){au.push(dV(au)+" ")}return au[ek]}function dV(ek){return ek[ek.length-1]}function cv(el){if(dn){el.selectionStart=0;el.selectionEnd=el.value.length}else{try{el.select()}catch(ek){}}}function ce(en,ek){if(en.indexOf){return en.indexOf(ek)}for(var el=0,em=en.length;el<em;++el){if(en[el]==ek){return el}}return -1}function bw(en,el){function ek(){}ek.prototype=en;var em=new ek();if(el){aj(el,em)}return em}function aj(el,ek){if(!ek){ek={}}for(var em in el){if(el.hasOwnProperty(em)){ek[em]=el[em]}}return ek}function R(em){for(var ek=[],el=0;el<em;++el){ek.push(undefined)}return ek}function bH(el){var ek=Array.prototype.slice.call(arguments,1);return function(){return el.apply(null,ek)}}var aD=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bK(ek){return/\w/.test(ek)||ek>"\x80"&&(ek.toUpperCase()!=ek.toLowerCase()||aD.test(ek))}function di(ek){for(var el in ek){if(ek.hasOwnProperty(el)&&ek[el]){return false}}return true}var dJ=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function d7(ek,eo,en,em){var ep=document.createElement(ek);if(en){ep.className=en}if(em){ep.style.cssText=em}if(typeof eo=="string"){m(ep,eo)}else{if(eo){for(var el=0;el<eo.length;++el){ep.appendChild(eo[el])}}}return ep}function cC(el){for(var ek=el.childNodes.length;ek>0;--ek){el.removeChild(el.firstChild)}return el}function bc(ek,el){return cC(ek).appendChild(el)}function m(ek,el){if(bx){ek.innerHTML="";ek.appendChild(document.createTextNode(el))}else{ek.textContent=el}}function ak(ek){return ek.getBoundingClientRect()}y.replaceGetRect=function(ek){ak=ek};var dc=function(){if(bx){return false}var ek=d7("div");return"draggable" in ek||"dragDrop" in ek}();function bo(){return false}if(bB){bo=function(el,ek){return el.charCodeAt(ek-1)==36&&el.charCodeAt(ek)==39}}else{if(ad&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){bo=function(el,ek){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(el.slice(ek-1,ek+1))}}else{if(b1&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)){bo=function(em,ek){var el=em.charCodeAt(ek-1);return el>=8208&&el<=8212}}else{if(b1){bo=function(el,ek){if(ek>1&&el.charCodeAt(ek-1)==45){if(/\w/.test(el.charAt(ek-2))&&/[^\-?\.]/.test(el.charAt(ek))){return true}if(ek>2&&/[\d\.,]/.test(el.charAt(ek-2))&&/[\d\.,]/.test(el.charAt(ek))){return false}}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|…[\w~`@#$%\^&*(_=+{[><]/.test(el.slice(ek-1,ek+1))}}}}}var cX;function i(ek){if(cX!=null){return cX}var el=d7("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bc(ek,el);if(el.offsetWidth){cX=el.offsetHeight-el.clientHeight}return cX||0}var dY;function aN(ek){if(dY==null){var el=d7("span","\u200b");bc(ek,d7("span",[el,document.createTextNode("x")]));if(ek.firstChild.offsetHeight!=0){dY=el.offsetWidth<=1&&el.offsetHeight>2&&!by}}if(dY){return d7("span","\u200b")}else{return d7("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var av="\n\nb".split(/\n/).length!=3?function(ep){var eq=0,ek=[],eo=ep.length;while(eq<=eo){var en=ep.indexOf("\n",eq);if(en==-1){en=ep.length}var em=ep.slice(eq,ep.charAt(en-1)=="\r"?en-1:en);var el=em.indexOf("\r");if(el!=-1){ek.push(em.slice(0,el));eq+=el+1}else{ek.push(em);eq=en+1}}return ek}:function(ek){return ek.split(/\r\n?|\n/)};y.splitLines=av;var aS=window.getSelection?function(el){try{return el.selectionStart!=el.selectionEnd}catch(ek){return false}}:function(em){try{var ek=em.ownerDocument.selection.createRange()}catch(el){}if(!ek||ek.parentElement()!=em){return false}return ek.compareEndPoints("StartToEnd",ek)!=0};var b8=(function(){var ek=d7("div");if("oncopy" in ek){return true}ek.setAttribute("oncopy","return;");return typeof ek.oncopy=="function"})();var dz={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};y.keyNames=dz;(function(){for(var ek=0;ek<10;ek++){dz[ek+48]=String(ek)}for(var ek=65;ek<=90;ek++){dz[ek]=String.fromCharCode(ek)}for(var ek=1;ek<=12;ek++){dz[ek+111]=dz[ek+63235]="F"+ek}})();function cD(ek,eq,ep,eo){if(!ek){return eo(eq,ep,"ltr")}var en=false;for(var em=0;em<ek.length;++em){var el=ek[em];if(el.from<ep&&el.to>eq||eq==ep&&el.to==eq){eo(Math.max(el.from,eq),Math.min(el.to,ep),el.level==1?"rtl":"ltr");en=true}}if(!en){eo(eq,ep,"ltr")}}function co(ek){return ek.level%2?ek.to:ek.from}function ef(ek){return ek.level%2?ek.from:ek.to}function bN(el){var ek=a(el);return ek?co(ek[0]):0}function bX(el){var ek=a(el);if(!ek){return el.text.length}return ef(dV(ek))}function aT(el,eo){var em=dx(el.doc,eo);var ep=s(el.doc,em);if(ep!=em){eo=a8(ep)}var ek=a(ep);var en=!ek?0:ek[0].level%2?bX(ep):bN(ep);return H(eo,en)}function cx(em,ep){var el,en;while(el=cW(en=dx(em.doc,ep))){ep=el.find().to.line}var ek=a(en);var eo=!ek?en.text.length:ek[0].level%2?bN(en):bX(en);return H(ep,eo)}function U(el,em,ek){var en=el[0].level;if(em==en){return true}if(ek==en){return false}return em<ek}var dp;function ag(ek,eo){for(var el=0,em;el<ek.length;++el){var en=ek[el];if(en.from<eo&&en.to>eo){dp=null;return el}if(en.from==eo||en.to==eo){if(em==null){em=el}else{if(U(ek,en.level,ek[em].level)){dp=em;return el}else{dp=el;return em}}}}dp=null;return em}function dw(ek,en,el,em){if(!em){return en+el}do{en+=el}while(en>0&&dJ.test(ek.text.charAt(en)));return en}function p(ek,er,em,en){var eo=a(ek);if(!eo){return O(ek,er,em,en)}var eq=ag(eo,er),el=eo[eq];var ep=dw(ek,er,el.level%2?-em:em,en);for(;;){if(ep>el.from&&ep<el.to){return ep}if(ep==el.from||ep==el.to){if(ag(eo,ep)==eq){return ep}el=eo[eq+=em];return(em>0)==el.level%2?el.to:el.from}else{el=eo[eq+=em];if(!el){return null}if((em>0)==el.level%2){ep=dw(ek,el.to,-1,en)}else{ep=dw(ek,el.from,1,en)}}}}function O(ek,eo,el,em){var en=eo+el;if(em){while(en>0&&dJ.test(ek.text.charAt(en))){en+=el}}return en<0||en>ek.text.length?null:en}var aH=(function(){var eq="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var eo="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function en(et){if(et<=255){return eq.charAt(et)}else{if(1424<=et&&et<=1524){return"R"}else{if(1536<=et&&et<=1791){return eo.charAt(et-1536)}else{if(1792<=et&&et<=2220){return"r"}else{return"L"}}}}}var ek=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var es=/[stwN]/,em=/[LRr]/,el=/[Lb1n]/,ep=/[1n]/;var er="L";return function(eD){if(!ek.test(eD)){return false}var eJ=eD.length,ez=[];for(var eI=0,ev;eI<eJ;++eI){ez.push(ev=en(eD.charCodeAt(eI)))}for(var eI=0,eC=er;eI<eJ;++eI){var ev=ez[eI];if(ev=="m"){ez[eI]=eC}else{eC=ev}}for(var eI=0,et=er;eI<eJ;++eI){var ev=ez[eI];if(ev=="1"&&et=="r"){ez[eI]="n"}else{if(em.test(ev)){et=ev;if(ev=="r"){ez[eI]="R"}}}}for(var eI=1,eC=ez[0];eI<eJ-1;++eI){var ev=ez[eI];if(ev=="+"&&eC=="1"&&ez[eI+1]=="1"){ez[eI]="1"}else{if(ev==","&&eC==ez[eI+1]&&(eC=="1"||eC=="n")){ez[eI]=eC}}eC=ev}for(var eI=0;eI<eJ;++eI){var ev=ez[eI];if(ev==","){ez[eI]="N"}else{if(ev=="%"){for(var ew=eI+1;ew<eJ&&ez[ew]=="%";++ew){}var eK=(eI&&ez[eI-1]=="!")||(ew<eJ-1&&ez[ew]=="1")?"1":"N";for(var eG=eI;eG<ew;++eG){ez[eG]=eK}eI=ew-1}}}for(var eI=0,et=er;eI<eJ;++eI){var ev=ez[eI];if(et=="L"&&ev=="1"){ez[eI]="L"}else{if(em.test(ev)){et=ev}}}for(var eI=0;eI<eJ;++eI){if(es.test(ez[eI])){for(var ew=eI+1;ew<eJ&&es.test(ez[ew]);++ew){}var eA=(eI?ez[eI-1]:er)=="L";var eu=(ew<eJ-1?ez[ew]:er)=="L";var eK=eA||eu?"L":"R";for(var eG=eI;eG<ew;++eG){ez[eG]=eK}eI=ew-1}}var eH=[],eE;for(var eI=0;eI<eJ;){if(el.test(ez[eI])){var ex=eI;for(++eI;eI<eJ&&el.test(ez[eI]);++eI){}eH.push({from:ex,to:eI,level:0})}else{var ey=eI,eB=eH.length;for(++eI;eI<eJ&&ez[eI]!="L";++eI){}for(var eG=ey;eG<eI;){if(ep.test(ez[eG])){if(ey<eG){eH.splice(eB,0,{from:ey,to:eG,level:1})}var eF=eG;for(++eG;eG<eI&&ep.test(ez[eG]);++eG){}eH.splice(eB,0,{from:eF,to:eG,level:2});ey=eG}else{++eG}}if(ey<eI){eH.splice(eB,0,{from:ey,to:eI,level:1})}}}if(eH[0].level==1&&(eE=eD.match(/^\s+/))){eH[0].from=eE[0].length;eH.unshift({from:0,to:eE[0].length,level:0})}if(dV(eH).level==1&&(eE=eD.match(/\s+$/))){dV(eH).to-=eE[0].length;eH.push({from:eJ-eE[0].length,to:eJ,level:0})}if(eH[0].level!=dV(eH).level){eH.push({from:eJ,to:eJ,level:eH[0].level})}return eH}})();y.version="3.19.0";return y})();